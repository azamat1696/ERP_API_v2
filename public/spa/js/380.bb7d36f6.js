"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[380],{696:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ye});var t=l(3673),s=l(2323);const o={class:"q-pa-none"},i=(0,t._)("div",{class:"text-h6"},"İşlem Detayları",-1),r=(0,t._)("div",{class:"text-subtitle1"},"Makinist Bilgileri",-1),d={class:"row q-pa-md"},n={class:"col-4 q-pa-xs"},m=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"Firma İsmi",-1),u={class:"col-4 q-pa-xs"},c=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Yetkili Bilgileri",-1),p={class:"col-4 q-pa-xs"},g=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," E-posta ",-1),h={class:"col-4 q-pa-xs"},v=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Açık Adresi",-1),_={class:"col-4 q-pa-xs"},w=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Telefon ",-1),b={class:"col-4 q-pa-xs"},f=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Vergi Dairesi ",-1),y={class:"col-4 q-pa-xs"},F=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"Vergi Numarası",-1),D=(0,t._)("div",{class:"col-4 q-pa-xs q-mt-md"},null,-1),C=(0,t._)("div",{class:"text-subtitle1"},"Hasar Kayıt Bilgileri ",-1),k={class:"row q-pa-md"},x={class:"col-4 q-pa-xs"},V=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Teslim Edilecek Tarih ",-1),W={class:"row items-center justify-end"},q={class:"row items-center justify-end"},S={class:"col-4 q-pa-xs"},T=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Teslim Alınacak Tarih ",-1),H={class:"row items-center justify-end"},M={class:"row items-center justify-end"},R={class:"col-4 q-pa-xs"},U=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"Toplam Fiyat ",-1),Z={class:"row q-pa-md"},z={class:"col-12 q-pa-xs"},E=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"Açıklama Alanı ",-1),Y=(0,t._)("div",{class:"col-4"},null,-1),Q=(0,t._)("div",{class:"col-4"},null,-1),A={class:"col-4 q-mb-lg"},P=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"İşlem Durumu ",-1),O={class:"col-12 text-right"};function $(e,a,l,$,L,j){const N=(0,t.up)("q-separator"),B=(0,t.up)("q-card-section"),K=(0,t.up)("q-input"),I=(0,t.up)("q-btn"),J=(0,t.up)("q-date"),G=(0,t.up)("q-popup-proxy"),X=(0,t.up)("q-icon"),ee=(0,t.up)("q-time"),ae=(0,t.up)("q-tooltip"),le=(0,t.up)("q-th"),te=(0,t.up)("q-tr"),se=(0,t.up)("q-checkbox"),oe=(0,t.up)("q-td"),ie=(0,t.up)("q-badge"),re=(0,t.up)("q-chip"),de=(0,t.up)("q-table"),ne=(0,t.up)("q-select"),me=(0,t.up)("q-form"),ue=(0,t.up)("q-card"),ce=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t.Wm)(ue,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{class:"text-left"},{default:(0,t.w5)((()=>[i,(0,t.Wm)(N)])),_:1}),(0,t.Wm)(B,{class:"col-12 q-mr-lg"},{default:(0,t.w5)((()=>[r,(0,t.Wm)(N),(0,t._)("div",d,[(0,t._)("div",n,[m,(0,t.Wm)(K,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:$.formFields.CompanyName,"onUpdate:modelValue":a[0]||(a[0]=e=>$.formFields.CompanyName=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],disable:""},null,8,["modelValue","rules"])]),(0,t._)("div",u,[c,(0,t.Wm)(K,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:$.formFields.AuthorizedPerson,"onUpdate:modelValue":a[1]||(a[1]=e=>$.formFields.AuthorizedPerson=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],disable:""},null,8,["modelValue","rules"])]),(0,t._)("div",p,[g,(0,t.Wm)(K,{outlined:"",dense:"","lazy-rules":"",modelValue:$.formFields.CompanyEmail,"onUpdate:modelValue":a[2]||(a[2]=e=>$.formFields.CompanyEmail=e),placeholder:"example@gmail.com","hide-bottom-space":"",rules:[e=>e&&e.length>0||"Lütfen e-posta giriniz"],disable:""},null,8,["modelValue","rules"])]),(0,t._)("div",h,[v,(0,t.Wm)(K,{outlined:"",dense:"",modelValue:$.formFields.CompanyAddress,"onUpdate:modelValue":a[3]||(a[3]=e=>$.formFields.CompanyAddress=e),type:"textarea",placeholder:"Açık adress ","hide-bottom-space":"",autogrow:"",disable:""},null,8,["modelValue"])]),(0,t._)("div",_,[w,(0,t.Wm)(K,{outlined:"",dense:"",modelValue:$.formFields.CompanyPhone,"onUpdate:modelValue":a[4]||(a[4]=e=>$.formFields.CompanyPhone=e),prefix:"+90",mask:"### ### ## ##",placeholder:"548 *** ** **","hide-bottom-space":"","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Zorunlu alan"],disable:""},null,8,["modelValue","rules"])]),(0,t._)("div",b,[f,(0,t.Wm)(K,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:$.formFields.CompanyTaxAddress,"onUpdate:modelValue":a[5]||(a[5]=e=>$.formFields.CompanyTaxAddress=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],disable:""},null,8,["modelValue","rules"])]),(0,t._)("div",y,[F,(0,t.Wm)(K,{outlined:"",dense:"","lazy-rules":"",modelValue:$.formFields.CompanyTaxNumber,"onUpdate:modelValue":a[6]||(a[6]=e=>$.formFields.CompanyTaxNumber=e),"hide-bottom-space":"",rules:[e=>e&&e.length>0||"Zorunlu alan"],disable:""},null,8,["modelValue","rules"])]),D])])),_:1}),(0,t.Wm)(B,{class:"col-12 q-pr-lg"},{default:(0,t.w5)((()=>[C,(0,t.Wm)(N),(0,t._)("div",k,[(0,t._)("div",x,[V,(0,t.Wm)(K,{dense:"",square:"",outlined:"",modelValue:$.reservationFormFields.ReservationStartDate,"onUpdate:modelValue":a[9]||(a[9]=e=>$.reservationFormFields.ReservationStartDate=e),"lazy-rules":!0,rules:[e=>e&&e.toString().length>0||"Zorunlu alan"],"hide-bottom-space":"",disable:""},{append:(0,t.w5)((()=>[(0,t.Wm)(X,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:$.reservationFormFields.ReservationStartDateTime,"onUpdate:modelValue":a[7]||(a[7]=e=>$.reservationFormFields.ReservationStartDateTime=e),mask:"YYYY-MM-DD HH:mm",minimal:"",locale:this.$store.getters["MainModule/getDateTimeLocale"]},{default:(0,t.w5)((()=>[(0,t._)("div",W,[(0,t.wy)((0,t.Wm)(I,{label:"Kapat",color:"primary",flat:""},null,512),[[ce]])])])),_:1},8,["modelValue","locale"])])),_:1})])),_:1})])),after:(0,t.w5)((()=>[(0,t.Wm)(I,{icon:"access_time",class:"full-height",outline:"",color:"grey-6"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{modelValue:$.reservationFormFields.ReservationStartDateTime,"onUpdate:modelValue":a[8]||(a[8]=e=>$.reservationFormFields.ReservationStartDateTime=e),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,t.w5)((()=>[(0,t._)("div",q,[(0,t.wy)((0,t.Wm)(I,{label:"Kapat",color:"primary",flat:""},null,512),[[ce]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t._)("div",S,[T,(0,t.Wm)(K,{dense:"",square:"",outlined:"",modelValue:$.reservationFormFields.ReservationEndDate,"onUpdate:modelValue":a[12]||(a[12]=e=>$.reservationFormFields.ReservationEndDate=e),"hide-bottom-space":"",disable:""},{append:(0,t.w5)((()=>[(0,t.Wm)(X,{name:"event",class:"cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{modelValue:$.reservationFormFields.ReservationEndDateTime,"onUpdate:modelValue":a[10]||(a[10]=e=>$.reservationFormFields.ReservationEndDateTime=e),mask:"YYYY-MM-DD HH:mm",minimal:"",locale:this.$store.getters["MainModule/getDateTimeLocale"]},{default:(0,t.w5)((()=>[(0,t._)("div",H,[(0,t.wy)((0,t.Wm)(I,{label:"Kapat",color:"primary",flat:""},null,512),[[ce]])])])),_:1},8,["modelValue","locale"])])),_:1})])),_:1})])),after:(0,t.w5)((()=>[(0,t.Wm)(I,{icon:"access_time",class:"full-height",outline:"",color:"grey-6"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{modelValue:$.reservationFormFields.ReservationEndDateTime,"onUpdate:modelValue":a[11]||(a[11]=e=>$.reservationFormFields.ReservationEndDateTime=e),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,t.w5)((()=>[(0,t._)("div",M,[(0,t.wy)((0,t.Wm)(I,{label:"Kapat",color:"primary",flat:""},null,512),[[ce]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t._)("div",R,[U,(0,t.Wm)(K,{outlined:"",dense:"",modelValue:$.reservationFormFields.EstimatedRepairCost,"onUpdate:modelValue":a[13]||(a[13]=e=>$.reservationFormFields.EstimatedRepairCost=e),"hide-bottom-space":"",disable:""},null,8,["modelValue"])])]),(0,t._)("div",Z,[(0,t._)("div",z,[E,(0,t.Wm)(K,{outlined:"",dense:"",type:"textarea",placeholder:"Açıklama",modelValue:$.reservationFormFields.Description,"onUpdate:modelValue":a[14]||(a[14]=e=>$.reservationFormFields.Description=e),"hide-bottom-space":"",disable:""},null,8,["modelValue"])])])])),_:1}),(0,t.Wm)(B,{class:"col-12"},{default:(0,t.w5)((()=>[(0,t.Wm)(de,{rows:$.reservationFormFields.car_damages,columns:$.DamageRowColumns,"hide-bottom":"",selection:"multiple",selected:$.selectedDamages,"onUpdate:selected":a[16]||(a[16]=e=>$.selectedDamages=e),class:"no-box-shadow","row-key":"id","table-header-style":"cursor: not-allowed !important;",style:{background:"#f9f9f9 !important"}},{header:(0,t.w5)((e=>[(0,t.Wm)(te,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(le,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Hasar tammlandı "),(0,t.Wm)(ae,{class:"text-subtitle2 bg-amber",style:{color:"#1D1D1D"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" Lütfen yapılan hasar kayıtları seçiniz! ")])),_:1})])),_:1}),(0,t.Wm)(le,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Araç pilakası")])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cols,(a=>((0,t.wg)(),(0,t.j4)(le,{key:a.name,props:e,class:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(a.label),1)])),_:2},1032,["props"])))),128)),(0,t.Wm)(le)])),_:2},1032,["props"])])),body:(0,t.w5)((e=>[(0,t.Wm)(te,{props:e,class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(oe,{"auto-width":""},{default:(0,t.w5)((()=>["Completed"===e.row.damage.DamageMaintenanceStatus?((0,t.wg)(),(0,t.j4)(se,{key:0,modelValue:$.checkbox,"onUpdate:modelValue":a[15]||(a[15]=e=>$.checkbox=e),onClick:a=>j.onSelectedDamage(e.row.damage.id),disable:$.isCompletedOrCanceled},null,8,["modelValue","onClick","disable"])):((0,t.wg)(),(0,t.j4)(se,{key:1,modelValue:e.row.Status,"onUpdate:modelValue":a=>e.row.Status=a,onClick:a=>j.onSelectedDamage(e.row.damage.id),disable:$.isCompletedOrCanceled},null,8,["modelValue","onUpdate:modelValue","onClick","disable"]))])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$store.getters["CarsModule/getRecordByCarId"](e.row.damage.cars_id).LicencePlate),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.damage.DamageTitle),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(null!==e.row.damage.customer_id?{...this.$store.getters["CustomersModule/getRecord"](e.row.damage.customer_id)}.Name+" ":""),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.damage.DamagePrice),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.damage.DamageDescription.substring(1,20)+"..."),1)])),_:2},1024),(0,t.Wm)(oe,{class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,{color:$.carDamageLevelPointer(e.row.damage.DamageLevel).color,rounded:""},null,8,["color"]),(0,t.Uk)(" "+(0,s.zw)($.carDamageLevelPointer(e.row.damage.DamageLevel).level),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.damage.DamageCode),1)])),_:2},1024),(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>["Completed"===e.row.damage.DamageMaintenanceStatus?((0,t.wg)(),(0,t.j4)(re,{key:0,color:"blue-grey-8",square:"","text-color":"white"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Hasar Kapatıldı. ")])),_:1})):(0,t.kq)("",!0),"Processing"===e.row.damage.DamageMaintenanceStatus?((0,t.wg)(),(0,t.j4)(re,{key:1,color:"blue-6",square:"","text-color":"white"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Tamir Ediliyor. ")])),_:1})):(0,t.kq)("",!0),"Waiting"===e.row.damage.DamageMaintenanceStatus?((0,t.wg)(),(0,t.j4)(re,{key:2,color:"warning",square:"","text-color":"dark"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Hasar Beklemede. ")])),_:1})):(0,t.kq)("",!0)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","selected"])])),_:1}),(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)(me,{onSubmit:j.onSubmit,class:"row"},{default:(0,t.w5)((()=>[Y,Q,(0,t._)("div",A,[P,(0,t.Wm)(ne,{modelValue:$.reservationFormFields.ReservationStatus,"onUpdate:modelValue":a[17]||(a[17]=e=>$.reservationFormFields.ReservationStatus=e),options:$.ReservationStatusOptions,"option-label":e=>e.title,"option-value":"id",outlined:"",dense:"","hide-bottom-space":"",color:"blue-grey-8",disable:$.isCompletedOrCanceled},null,8,["modelValue","options","option-label","disable"])]),(0,t._)("div",O,[(0,t.Wm)(I,{class:"text-right",type:"submit",color:"blue-grey-8",icon:"save",label:"Kaydet",disable:$.isCompletedOrCanceled},null,8,["disable"])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])}l(3610),l(5663);var L=l(171);const j=[{name:"car_brands_id",align:"center",label:"Marka",field:"car_brands_id",sortable:!0},{name:"car_models_id",align:"center",label:"Model",field:"car_models_id",sortable:!0},{name:"LicencePlate",align:"center",label:"Plakası",field:"LicencePlate",sortable:!0},{name:"car_classes_id",align:"center",label:"Sınıf",field:"car_classes_id",sortable:!0},{name:"car_transmission_types_id",align:"center",label:"Vites Tipi",field:"car_transmission_types_id",sortable:!0},{name:"Status",align:"center",label:"Statusu",field:"Status",sortable:!0},{name:"id",align:"center",label:"Aksion",field:"id"}],N=j;var B=l(1959),K=l(116);const I={name:"MachinistCarEditDamage",setup(){const e=(0,B.iH)([]);return{selectedDamages:e,MachinistCompaniesColumns:L.Z,carsColumns:N,DamageRowColumns:K.Z,checkbox:(0,B.iH)(!0),isCompletedOrCanceled:(0,B.iH)(!1),formFields:(0,B.iH)({id:(0,B.iH)(),CompanyName:(0,B.iH)(""),CompanyPhone:(0,B.iH)(),machinist_type_id:(0,B.iH)(),CompanyEmail:(0,B.iH)(""),AuthorizedPerson:(0,B.iH)(""),CompanyTaxAddress:(0,B.iH)(""),CompanyTaxNumber:(0,B.iH)(""),CompanyAddress:(0,B.iH)("")}),reservationFormFields:(0,B.iH)({id:(0,B.iH)(),machinist_id:(0,B.iH)(),cars_id:(0,B.iH)(),customer_id:(0,B.iH)(),ReservationStartDateTime:(0,B.iH)(""),ReservationEndDateTime:"",EstimatedRepairCost:(0,B.iH)(""),Description:(0,B.iH)(""),ReservationStatus:(0,B.iH)("")}),car_damages:(0,B.iH)([]),ReservationStatusOptions:[{title:"Devam Ediyor",code:"Opened"},{title:"İptal Edildi",code:"Canceled"},{title:"Tamamlandı",code:"Completed"}],carDamageLevelPointer(e){switch(e){case"low":return{color:"orange",level:"Az"};case"medium":return{color:"deep-orange",level:"Orta"};case"high":return{color:"red",level:"Yüksek"};case"veryHigh":return{color:"negative",level:"Çok Yüksek"};default:return{color:"negative",level:"Çok Yüksek"}}}}},mounted(){this.$store.dispatch("MachinistDamageRecordsModule/get"),this.$store.dispatch("CarsModule/get"),this.$store.dispatch("MachinistCompaniesModule/get"),this.$store.dispatch("CarDamagesModule/get"),this.$store.dispatch("CustomersModule/get")},computed:{},methods:{onSubmit(){let e=new FormData;e.append("ReservationStatus",this.reservationFormFields.ReservationStatus.code),e.append("id",this.reservationFormFields.id),e.append("car_damage_ids",this.selectedDamages),e.append("cars_id",this.reservationFormFields.cars_id),e.append("_method","PUT"),this.$store.dispatch("MachinistDamageRecordsModule/update",e).then((e=>{!0===e&&this.$router.back()}))},onSelectedDamage(e){this.selectedDamages.includes(e)?this.selectedDamages.splice(this.selectedDamages.splice(e),1):this.selectedDamages.push(e)},statusOptions(e){switch(e){case"Completed":return{title:"Tamamlandı",code:"Completed"};case"Opened":return{title:"Devam Ediyor",code:"Opened"};default:return{title:"İptal Edildi",code:"Canceled"}}}},created(){let e=JSON.parse(JSON.stringify(this.$store.getters["MachinistDamageRecordsModule/elById"](this.$route.params.machinistDamageId)));this.reservationFormFields=e,this.reservationFormFields.ReservationStatus=this.statusOptions(e.ReservationStatus),this.formFields=this.$store.getters["MachinistCompaniesModule/elById"](e.machinist_id),"Completed"!==this.reservationFormFields.ReservationStatus.code&&"Canceled"!==this.reservationFormFields.ReservationStatus.code||(this.isCompletedOrCanceled=!0)}};var J=l(4260),G=l(151),X=l(5589),ee=l(5869),ae=l(4689),le=l(4554),te=l(3944),se=l(5626),oe=l(2165),ie=l(5990),re=l(4993),de=l(8186),ne=l(2414),me=l(8870),ue=l(3884),ce=l(5735),pe=l(9721),ge=l(7030),he=l(5269),ve=l(3314),_e=l(677),we=l(7518),be=l.n(we);const fe=(0,J.Z)(I,[["render",$]]),ye=fe;be()(I,"components",{QCard:G.Z,QCardSection:X.Z,QSeparator:ee.Z,QInput:ae.Z,QIcon:le.Z,QPopupProxy:te.Z,QDate:se.Z,QBtn:oe.Z,QTime:ie.Z,QTable:re.Z,QTr:de.Z,QTh:ne.Z,QTooltip:me.Z,QTd:ue.Z,QCheckbox:ce.Z,QBadge:pe.Z,QChip:ge.Z,QForm:he.Z,QSelect:ve.Z}),be()(I,"directives",{ClosePopup:_e.Z})}}]);