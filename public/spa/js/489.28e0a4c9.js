"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[489],{3489:(e,l,t)=>{t.r(l),t.d(l,{default:()=>El});var a=t(3673);const s={class:"row"},i={class:"col-12"};function o(e,l,t,o,r,n){const d=(0,a.up)("q-tab"),u=(0,a.up)("q-tabs"),m=(0,a.up)("q-separator"),c=(0,a.up)("q-card"),p=(0,a.up)("base-reports"),v=(0,a.up)("q-tab-panel"),b=(0,a.up)("InvoiceSales"),f=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a.Wm)(c,{class:"no-border-radius no-shadow",style:{padding:"23px 24px 0px 21px !important"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:o.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>o.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"reservations",label:"Rezervasyonlar"}),(0,a.Wm)(d,{name:"InvoiceSales",label:"Dış Fatura Satışları"})])),_:1},8,["modelValue"]),(0,a.Wm)(m)])),_:1}),(0,a.Wm)(f,{modelValue:o.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>o.tab=e),animated:"",class:"transparent"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{name:"reservations",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(p)])),_:1}),(0,a.Wm)(v,{name:"InvoiceSales",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])}var r=t(1959),n=t(2323);const d=e=>((0,a.dD)("data-v-78bfe14c"),e=e(),(0,a.Cn)(),e),u={class:"row"},m={class:"col-12"},c=d((()=>(0,a._)("div",{class:"text-subtitle1"},"Rezervasyon Raporlama Modülu",-1))),p=d((()=>(0,a._)("div",{class:"text-subtitle2"}," Bu kısımda bu güne kadar kayıt edilen rezervasyonları detaylı raporlamaları yapılabilmektedir. ",-1))),v={class:"row"},b=d((()=>(0,a._)("div",{class:"col-4",id:"repoChartDiv",style:{"margin-top":"-10px !important"}},[(0,a._)("canvas",{id:"myChart",width:"150",height:"150"})],-1))),f={class:"col-8 q-pl-xl"},h={class:"row q-card--bordered q-pa-sm bg-grey-2"},g=d((()=>(0,a._)("div",{class:"text-subtitle2 text-bold q-ml-sm"},"Filtreleme Formu",-1))),y={class:"col-12 q-mt-sm q-mb-sm"},w={class:"col-4 q-pa-xs"},_=d((()=>(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Başlama Tarihi",-1))),F={class:"row items-center justify-end"},x={class:"col-4 q-pa-xs"},V=d((()=>(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Bitiş Tarihi",-1))),W={class:"row items-center justify-end"},R={class:"col-4 q-pa-xs"},T=d((()=>(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Müşteri Gurubu",-1))),q={class:"col-4 q-pa-xs"},S=d((()=>(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Araç Plakası",-1))),C=d((()=>(0,a._)("div",{class:"col-4 q-pa-xs"},null,-1))),D={class:"col-4 q-pa-xs q-mt-lg text-right"},k={class:"row"},U=d((()=>(0,a._)("div",{class:"col-6 q-pr-xs"},null,-1))),Z={class:"col-6 q-pr-xs"},z={class:"row q-card--bordered q-pa-sm bg-grey-2"},N=d((()=>(0,a._)("div",{class:"text-subtitle2 text-bold q-ml-sm"}," Tutar Alanları Sonucu",-1))),P={class:"col-12 q-mt-sm q-mb-sm"},I={class:"col-3 q-pa-xs"},Q=d((()=>(0,a._)("div",{class:"text-subtitle1",style:{"font-size":"32px",float:"left"}},"₺",-1))),M={class:"text-subtitle1",style:{"font-size":"20px","margin-left":"4px"}},$={class:"col-3 q-pa-xs"},O=d((()=>(0,a._)("div",{class:"text-subtitle1",style:{"font-size":"30px",float:"left"}},"£",-1))),K={class:"text-subtitle1",style:{"font-size":"20px","margin-left":"4px"}},B={class:"col-3 q-pa-xs"},H=d((()=>(0,a._)("div",{class:"text-subtitle1",style:{"font-size":"30px",float:"left"}},"€",-1))),G={class:"text-subtitle1",style:{"font-size":"20px","margin-left":"4px"}},L={class:"col-3 q-pa-xs"},E=d((()=>(0,a._)("div",{class:"text-subtitle1",style:{"font-size":"28px",float:"left"}},"$",-1))),J={class:"text-subtitle1",style:{"font-size":"20px","margin-left":"4px"}},A={class:"col-12 q-pa-xs"},Y=d((()=>(0,a._)("div",{class:"text-subtitle1",style:{"font-size":"20px"}},"Toplam Tl Hesabı",-1))),j={class:"text-subtitle1 text-bold",style:{"font-size":"20px","margin-left":"4px"}},X={class:"row"},ee={class:"col-12"};function le(e,l,t,s,i,o){const r=(0,a.up)("q-icon"),d=(0,a.up)("q-banner"),le=(0,a.up)("q-card-section"),te=(0,a.up)("q-separator"),ae=(0,a.up)("q-btn"),se=(0,a.up)("q-date"),ie=(0,a.up)("q-popup-proxy"),oe=(0,a.up)("q-input"),re=(0,a.up)("q-select"),ne=(0,a.up)("q-card"),de=(0,a.up)("q-form"),ue=(0,a.up)("q-space"),me=(0,a.up)("q-td"),ce=(0,a.up)("q-table"),pe=(0,a.up)("reservation-drivers"),ve=(0,a.up)("q-dialog"),be=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(ne,{class:"q-pa-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,null,{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a._)("div",m,[(0,a.Wm)(d,{dense:"",class:"bg-grey-3"},{avatar:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"o_notifications",color:"primary"})])),default:(0,a.w5)((()=>[c,p])),_:1})])])])),_:1}),(0,a.Wm)(le,null,{default:(0,a.w5)((()=>[(0,a._)("div",v,[b,(0,a._)("div",f,[(0,a.Wm)(de,{onSubmit:o.onsubmitFilterReservations,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a._)("div",h,[g,(0,a._)("div",y,[(0,a.Wm)(te,{color:"grey-5"})]),(0,a._)("div",w,[_,(0,a.Wm)(oe,{outlined:"",modelValue:s.filterReservationFields.startDateTime,"onUpdate:modelValue":l[1]||(l[1]=e=>s.filterReservationFields.startDateTime=e),placeholder:"Opsionel",dense:"",clearable:"",class:"bg-white","hide-bottom-space":""},{append:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(se,{modelValue:s.filterReservationFields.startDateTime,"onUpdate:modelValue":l[0]||(l[0]=e=>s.filterReservationFields.startDateTime=e),minimal:"",locale:this.$store.getters["MainModule/getDateTimeLocale"],mask:"YYYY-MM-DD"},{default:(0,a.w5)((()=>[(0,a._)("div",F,[(0,a.wy)((0,a.Wm)(ae,{label:"Kapat",color:"primary",flat:""},null,512),[[be]])])])),_:1},8,["modelValue","locale"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",x,[V,(0,a.Wm)(oe,{outlined:"",modelValue:s.filterReservationFields.endDateTime,"onUpdate:modelValue":l[3]||(l[3]=e=>s.filterReservationFields.endDateTime=e),placeholder:"Opsionel",dense:"",clearable:"",class:"bg-white","hide-bottom-space":""},{append:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(ie,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(se,{modelValue:s.filterReservationFields.endDateTime,"onUpdate:modelValue":l[2]||(l[2]=e=>s.filterReservationFields.endDateTime=e),minimal:"",locale:this.$store.getters["MainModule/getDateTimeLocale"],mask:"YYYY-MM-DD"},{default:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a.wy)((0,a.Wm)(ae,{label:"Kapat",color:"primary",flat:""},null,512),[[be]])])])),_:1},8,["modelValue","locale"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,a._)("div",R,[T,(0,a.Wm)(re,{modelValue:s.filterReservationFields.group_id,"onUpdate:modelValue":l[4]||(l[4]=e=>s.filterReservationFields.group_id=e),options:s.customerGroups,"option-label":"Name","option-value":"id","use-input":"","emit-value":"","map-options":"",outlined:"",dense:"",class:"bg-white","hide-bottom-space":"",onFilter:s.onCustomerGroupFilter,clearable:""},null,8,["modelValue","options","onFilter"])]),(0,a._)("div",q,[S,(0,a.Wm)(oe,{type:"text",outlined:"",dense:"",placeholder:"Araç Plakası","bg-color":"white",modelValue:s.filterReservationFields.licence_plate,"onUpdate:modelValue":l[5]||(l[5]=e=>s.filterReservationFields.licence_plate=e),clearable:""},null,8,["modelValue"])]),C,(0,a._)("div",D,[(0,a._)("div",k,[U,(0,a._)("div",Z,[(0,a.Wm)(ae,{class:"full-width",label:"FILTRELE",icon:"search",type:"submit",color:"blue-grey-8"})])])])]),(0,a._)("div",z,[N,(0,a._)("div",P,[(0,a.Wm)(te,{color:"grey-5"})]),(0,a._)("div",I,[(0,a.Wm)(ne,{class:"my-card no-box-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{style:{"min-height":"50px"}},{default:(0,a.w5)((()=>[Q,(0,a._)("div",M,(0,n.zw)(s.currencyRates.Lira),1)])),_:1}),(0,a.Wm)(te)])),_:1})]),(0,a._)("div",$,[(0,a.Wm)(ne,{class:"my-card no-box-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{style:{"min-height":"50px"}},{default:(0,a.w5)((()=>[O,(0,a._)("div",K,(0,n.zw)(s.currencyRates.Sterlin),1)])),_:1}),(0,a.Wm)(te)])),_:1})]),(0,a._)("div",B,[(0,a.Wm)(ne,{class:"my-card no-box-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{style:{"min-height":"50px"}},{default:(0,a.w5)((()=>[H,(0,a._)("div",G,(0,n.zw)(s.currencyRates.Euro),1)])),_:1}),(0,a.Wm)(te)])),_:1})]),(0,a._)("div",L,[(0,a.Wm)(ne,{class:"my-card no-box-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{style:{"min-height":"50px"}},{default:(0,a.w5)((()=>[E,(0,a._)("div",J,(0,n.zw)(s.currencyRates.Dolar),1)])),_:1}),(0,a.Wm)(te)])),_:1})]),(0,a._)("div",A,[(0,a.Wm)(ne,{class:"my-card no-box-shadow bg-transparent"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,null,{default:(0,a.w5)((()=>[Y,(0,a._)("div",j,(0,n.zw)(s.currencyRates.TotalPriceByCurrency)+" TL",1)])),_:1}),(0,a.Wm)(te)])),_:1})])])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1}),(0,a.Wm)(ne,{class:"q-mt-md bg-transparent no-box-shadow q-mb-xl"},{default:(0,a.w5)((()=>[(0,a.Wm)(le,{class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a._)("div",ee,[(0,a.Wm)(ce,{title:"Sonuçlar",rows:o.reservationReportRows,columns:s.reservationColumns,"row-key":"id",filter:s.searchReports,"rows-per-page-label":"Sayfa başına kayıt:","visible-columns":s.visibleColumns,pagination:s.pagination,ref:"reservationReportsRows",flat:"",bordered:"","table-header-style":{backgroundColor:"rgba(200,223,225,0.24)"}},{top:(0,a.w5)((t=>[(0,a.Wm)(re,{outlined:"",modelValue:s.visibleColumns,"onUpdate:modelValue":l[6]||(l[6]=e=>s.visibleColumns=e),multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:s.reservationColumns,"option-value":"name","option-label":"label"},null,8,["modelValue","display-value","options"]),(0,a.Wm)(re,{label:"Kira Cinsi / Tipi",outlined:"",modelValue:s.onFilterFields.ReservationType,"onUpdate:modelValue":[l[7]||(l[7]=e=>s.onFilterFields.ReservationType=e),o.onFilterTable],options:this.$store.getters["MainModule/getReservationTypes"],borderless:"",dense:"","options-dense":"","emit-value":"","map-options":"","option-value":"title","option-label":"title",style:{"min-width":"170px"},class:"q-pl-xs",clearable:"",onClear:o.onFilterTable},null,8,["modelValue","options","onUpdate:modelValue","onClear"]),(0,a.Wm)(re,{label:"Rezervasyon Statusu",outlined:"",modelValue:s.onFilterFields.ReservationStatus,"onUpdate:modelValue":[l[8]||(l[8]=e=>s.onFilterFields.ReservationStatus=e),o.onFilterTable],options:this.$store.getters["MainModule/getReservationStatus"],borderless:"",dense:"","options-dense":"","emit-value":"","map-options":"","option-value":"title","option-label":"title",style:{"min-width":"170px"},class:"q-pl-xs",onClear:o.onFilterTable,clearable:""},null,8,["modelValue","options","onUpdate:modelValue","onClear"]),(0,a.Wm)(re,{label:"Müşteri Gurubu",outlined:"",modelValue:s.onFilterFields.CustomerGroupName,"onUpdate:modelValue":[l[9]||(l[9]=e=>s.onFilterFields.CustomerGroupName=e),o.onFilterTable],options:s.customerGroupOptions,borderless:"",dense:"","options-dense":"","use-input":"","emit-value":"","map-options":"","option-value":"Name","option-label":"Name",style:{"min-width":"170px"},class:"q-pl-xs",onClear:o.onFilterTable,onFilter:s.onCustomerGroupFilter,clearable:""},null,8,["modelValue","options","onUpdate:modelValue","onClear","onFilter"]),(0,a.Wm)(ue),(0,a.Wm)(oe,{outlined:"",dense:"",debounce:"300",clearable:"",class:"q-pl-md",color:"primary",modelValue:s.searchReports,"onUpdate:modelValue":l[10]||(l[10]=e=>s.searchReports=e),placeholder:"Arayınız..."},{append:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(ae,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:o.exportReports},null,8,["onClick"]),(0,a.Wm)(ae,{flat:"",color:"primary",icon:t.inFullscreen?"fullscreen_exit":"fullscreen",onClick:t.toggleFullscreen,class:"",size:"15.5px"},null,8,["icon","onClick"])])),"body-cell-customers_drivers":(0,a.w5)((e=>[(0,a.Wm)(me,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(ae,{flat:"",round:"",color:"blue-grey-9",icon:"people_alt",size:"md",onClick:l=>o.showReservationDrivers(e.value)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter","visible-columns","pagination","table-header-style"])])])])),_:1})])),_:1})]),(0,a.Wm)(ve,{modelValue:s.reservationDriversDialog,"onUpdate:modelValue":l[12]||(l[12]=e=>s.reservationDriversDialog=e),"full-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(pe,{drivers:s.reservationDrivers,onCloseDialog:l[11]||(l[11]=e=>this.reservationDriversDialog=!1)},null,8,["drivers"])])),_:1},8,["modelValue"])],64)}t(5663),t(71),t(3610);var te=t(6738),ae=t(741);const se=(0,a._)("div",null,"Rezervasyon Sürücüleri",-1),ie=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12"},[(0,a._)("div",{class:"text-subtitle2"},"Rezervasyona ayit kayıt edilen sürücüler listesi.")])],-1);function oe(e,l,t,s,i,o){const r=(0,a.up)("q-space"),n=(0,a.up)("q-tooltip"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-bar"),m=(0,a.up)("q-icon"),c=(0,a.up)("q-input"),p=(0,a.up)("q-table"),v=(0,a.up)("q-card-section"),b=(0,a.up)("q-card"),f=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{style:{width:"650px !important"},class:"q-pb-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{style:{height:"50px"},class:"blue-grey-8"},{default:(0,a.w5)((()=>[se,(0,a.Wm)(r),(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{dense:"",flat:"",icon:"close"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Kapat")])),_:1})])),_:1})),[[f]])])),_:1}),(0,a.Wm)(v,{class:"q-pa-none q-pl-sm q-pr-sm q-pt-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:"drivers-table-virtscroll-table no-box-shadow bg-grey-1",rows:t.drivers,columns:s.reservationDriversColumns,"row-key":"name",filter:s.reservationDriversFilter,dense:"","virtual-scroll":"","virtual-scroll-sticky-size-start":5,pagination:s.driversPagination,"onUpdate:pagination":l[1]||(l[1]=e=>s.driversPagination=e),"rows-per-page-options":[0]},{"top-left":(0,a.w5)((()=>[ie])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(c,{outlined:"",dense:"",debounce:"500",color:"primary",modelValue:s.reservationDriversFilter,"onUpdate:modelValue":l[0]||(l[0]=e=>s.reservationDriversFilter=e),placeholder:"Sürücü Arayınız...",style:{width:"250px!important"},class:"bg-white"},{append:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter","pagination"])])),_:1})])),_:1})}const re=[{name:"Name",align:"center",label:" İsim",field:"Name"},{name:"Surname",align:"center",label:" Soyisim",field:"Surname"},{name:"Phone",align:"center",label:" Telefon",field:"Phone"},{name:"Email",align:"center",label:" E-posta",field:"Email"}],ne={name:"ReservationDrivers",props:["drivers"],setup(){return{reservationDriversColumns:re,reservationDriversFilter:(0,r.iH)(""),driversPagination:(0,r.iH)({rowsPerPage:0})}}};var de=t(4260),ue=t(151),me=t(846),ce=t(2025),pe=t(2165),ve=t(8870),be=t(5589),fe=t(4993),he=t(4689),ge=t(4554),ye=t(677),we=t(7518),_e=t.n(we);const Fe=(0,de.Z)(ne,[["render",oe]]),xe=Fe;_e()(ne,"components",{QCard:ue.Z,QBar:me.Z,QSpace:ce.Z,QBtn:pe.Z,QTooltip:ve.Z,QCardSection:be.Z,QTable:fe.Z,QInput:he.Z,QIcon:ge.Z}),_e()(ne,"directives",{ClosePopup:ye.Z});var Ve=t(6249);const We={name:"BaseReports",setup(){const e=(0,ae.oR)(),l=(0,a.Fl)((()=>JSON.parse(JSON.stringify(e.getters["CustomerGroupsModule/getRecords"])))),t=(0,r.iH)(l.value),s=[{id:1,name:"reservations",title:"Rezervasyonlar",disabled:!1},{id:2,name:"reservations",title:"Rezervasyonlar",disabled:!1}],i=[],o=(0,r.iH)({startDateTime:"",endDateTime:"",group_id:"",customer_units_id:"",driver_id:"",licence_plate:""}),n=[{name:"LicencePlate",align:"center",label:"Plaka",field:"LicencePlate",sortable:!0},{name:"car",align:"center",label:"Araç",field:"car",sortable:!0},{name:"CarAttributes",align:"center",label:"Nitelik",field:"CarAttributes",sortable:!0},{name:"ReservationStatus",align:"center",label:"Statusu",field:"ReservationStatus",sortable:!0},{name:"ReservationType",align:"center",label:"Kira Cinsi",field:"ReservationType",sortable:!0},{name:"CustomerGroupName",align:"center",label:"Müşteri Gurubu",field:"CustomerGroupName",sortable:!0},{name:"UnitName",align:"center",label:"Kullanan Birim",field:"UnitName",sortable:!0},{name:"Zimmet",align:"center",label:"Yetkili İsim",field:"Zimmet",sortable:!0},{name:"customers_drivers",align:"center",label:"Sürücler",field:"customers_drivers",sortable:!0},{name:"LocationName",align:"center",label:"Lokasyon, Bölge",field:"LocationName",sortable:!0},{name:"StartDateTime",align:"center",label:"Başlama Tarihi",field:"StartDateTime",sortable:!0},{name:"EndDateTime",align:"center",label:"Bitiş Tarihi",field:"EndDateTime",sortable:!0},{name:"RentDays",align:"center",label:"Kiralama Gün Sayısı",field:"RentDays",sortable:!0},{name:"TotalPrice",align:"center",label:"Kiralama Toplam Ücreti",field:"TotalPrice",sortable:!0},{name:"CurrencySymbol",align:"center",label:"Para Birimi",field:"CurrencySymbol",sortable:!0}],d=(0,r.iH)({ReservationType:"",ReservationStatus:"",CarAttributes:"",CustomerGroupName:"",UnitName:""}),u={rowsPerPage:10};return{pagination:u,onFilterFields:d,reservationDrivers:(0,r.iH)([]),reservationDriversDialog:(0,r.iH)(!1),visibleColumns:(0,r.iH)(["LicencePlate","car","ReservationStatus","ReservationType","CustomerGroupName","Zimmet","customers_drivers","LocationName","StartDateTime","EndDateTime","RentDays","TotalPrice","CurrencySymbol"]),reportTabs:s,reportTab:(0,r.iH)(s[0].name),filterReservationFields:o,currencyRates:(0,r.iH)({}),reservationFilterRows:i,searchReports:(0,r.iH)(""),reservationColumns:n,canvasData:(0,r.iH)([]),customerGroupOptions:t,customerGroups:l,onCustomerGroupFilter(e,a,s){a((()=>{const a=e.toLowerCase();t.value=l.value.filter((e=>e.Name.toLowerCase().indexOf(a)>-1))}))}}},created(){this.$store.commit("Reports/setterEmptyReservationReports"),this.$store.dispatch("CustomersModule/get")},computed:{reservationReportRows(){return this.$store.getters["Reports/reservationReports"]}},methods:{showReservationDrivers(e=null){this.reservationDrivers=[],this.reservationDriversDialog=!0;let l=JSON.parse(e);if(null!==l){let e=[];l.forEach((l=>{let t=this.$store.getters["CustomersModule/getRecord"](l);t&&e.push(t)})),this.reservationDrivers=e,this.reservationDriversDialog=!0}},initCharts(e){let l=[];for(var t in e.dataRanges)l.push(this.chartJsRandomColor());let a=document.getElementById("myChart").getContext("2d");new te.Z(a,{type:"bar",data:{labels:e.dataRangesTitle,datasets:[{data:e.dataRanges,backgroundColor:l,hoverOffset:4,borderWidth:1}]},options:{plugins:{legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}}},responsive:!0}})},chartJsRandomColor(){let e=66,l=Math.floor(255*Math.random()),t=Math.floor(255*Math.random());return"rgb("+e+","+l+","+t+",0.5)"},onsubmitFilterReservations(){let e=new FormData;for(const[l,t]of Object.entries(this.filterReservationFields))null!==t&&e.append(l,t);this.$store.dispatch("Reports/reservationReportFilterAction",e).then((e=>{!0===e&&(this.reservationReportRows=this.$store.getters["Reports/reservationReports"]),this.currencyRates=this.$store.getters["Reports/currencyRates"],this.canvasData=this.$store.getters["Reports/canvas"],document.querySelector("#repoChartDiv").innerHTML='<canvas id="myChart" width="150" height="150"></canvas>',this.initCharts(this.$store.getters["Reports/canvas"])}))},exportReports(){let e=JSON.parse(JSON.stringify(this.$refs.reservationReportsRows.visibleColumns)),l=JSON.parse(JSON.stringify(this.$refs.reservationReportsRows.columns)),t=l.filter((l=>{if(e.includes(l.field))return l})).map((e=>e.label)),a=JSON.parse(JSON.stringify(this.visibleColumns)),s=JSON.parse(JSON.stringify(this.$refs.reservationReportsRows.rows)),i=s.map((function(e){return Object.keys(e).filter((e=>a.includes(e))).reduce(((l,t)=>Object.assign(l,{[t]:e[t]})),{})})),o=this.$store.getters["CustomersModule/getRecords"],r=i.map(((e,l)=>{if(null!==e.customers_drivers){let l="",t=JSON.parse(e.customers_drivers);t.forEach((e=>{const t=o.find((l=>+l.id===e));t&&(l+=t.Name.toUpperCase()+" "+t.Surname.toUpperCase()+" , ")})),e.customers_drivers=l.slice(0,-2)}return e})),n=new FormData;n.append("headings",JSON.stringify(t)),n.append("rows",JSON.stringify(r)),this.$store.dispatch("Reports/reservationReportExportAction",n)},onFilterTable(){Ve.Z.show({message:"İşleniyor..."});let e=[],l={...this.onFilterFields},t=this.$store.getters["Reports/reservationReportsCopy"];e=t.filter((e=>{for(let t in l)if(l[t]&&e[t]!==l[t])return!1;return!0})),setTimeout((()=>{Ve.Z.hide()}),1e3),this.$store.commit("Reports/setterReservationReportByFilter",e)}},components:{ReservationDrivers:xe}};var Re=t(5607),Te=t(5269),qe=t(5869),Se=t(3944),Ce=t(5626),De=t(3314),ke=t(3884),Ue=t(4390);const Ze=(0,de.Z)(We,[["render",le],["__scopeId","data-v-78bfe14c"]]),ze=Ze;_e()(We,"components",{QCard:ue.Z,QCardSection:be.Z,QBanner:Re.Z,QIcon:ge.Z,QForm:Te.Z,QSeparator:qe.Z,QInput:he.Z,QPopupProxy:Se.Z,QDate:Ce.Z,QBtn:pe.Z,QSelect:De.Z,QTooltip:ve.Z,QTable:fe.Z,QSpace:ce.Z,QTd:ke.Z,QDialog:Ue.Z}),_e()(We,"directives",{ClosePopup:ye.Z});const Ne={class:"bg-white row"},Pe=(0,a._)("div",{class:"text-h4"},"Yeni Satış Faturası Oluştur ",-1),Ie=(0,a._)("div",{class:"text-subtitle2 text-bold"},"Bilgilendirme",-1),Qe=(0,a._)("div",{class:"text-weight-regular"}," 1.Satış faturası oluşturulurken fatura TL bazlı işleme alınacaktır. ",-1),Me={class:"row"},$e={class:"col-3 q-pa-sm"},Oe=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"İşlem Detayı",-1),Ke={class:"col-3 q-pa-sm"},Be=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Fatura Numarası",-1),He={class:"col-3 q-pa-sm"},Ge=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Birim Fiyatı",-1),Le={class:"col-3 q-pa-sm"},Ee=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"KDV Oranı",-1),Je={class:"row"},Ae={class:"col-3 q-pa-sm"},Ye=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Miktar",-1),je={class:"col-3 q-pa-sm"},Xe=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Ara Toplam",-1),el={class:"col-3 q-pa-sm"},ll=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"KDV Toplamı",-1),tl={class:"col-3 q-pa-sm"},al=(0,a._)("div",{class:"text-subtitle2 text-grey-8"}," Toplam",-1),sl={class:"row"},il={class:"col-12 q-pa-sm"},ol=(0,a._)("div",{class:"text-subtitle2 text-grey-8"}," Fatura Açıklaması",-1),rl={class:"row"},nl={class:"col-12 text-right"},dl=(0,a._)("div",{class:"text-h4"},"Satış Faturası Düzenleme ",-1),ul=(0,a._)("div",{class:"text-subtitle2 text-bold"},"Bilgilendirme",-1),ml=(0,a._)("div",{class:"text-weight-regular"}," 1.Satış faturası oluşturulurken fatura TL bazlı işleme alınacaktır. ",-1),cl={class:"row"},pl={class:"col-3 q-pa-sm"},vl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"İşlem Detayı",-1),bl={class:"col-3 q-pa-sm"},fl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Fatura Numarası",-1),hl={class:"col-3 q-pa-sm"},gl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Birim Fiyatı",-1),yl={class:"col-3 q-pa-sm"},wl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"KDV Oranı",-1),_l={class:"row"},Fl={class:"col-3 q-pa-sm"},xl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Miktar",-1),Vl={class:"col-3 q-pa-sm"},Wl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"Ara Toplam",-1),Rl={class:"col-3 q-pa-sm"},Tl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"},"KDV Toplamı",-1),ql={class:"col-3 q-pa-sm"},Sl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"}," Toplam",-1),Cl={class:"row"},Dl={class:"col-12 q-pa-sm"},kl=(0,a._)("div",{class:"text-subtitle2 text-grey-8"}," Fatura Açıklaması",-1),Ul={class:"row"},Zl={class:"col-12 text-right"};function zl(e,l,t,s,i,o){const r=(0,a.up)("q-icon"),d=(0,a.up)("q-input"),u=(0,a.up)("q-btn"),m=(0,a.up)("q-td"),c=(0,a.up)("q-tooltip"),p=(0,a.up)("q-tr"),v=(0,a.up)("q-table"),b=(0,a.up)("q-space"),f=(0,a.up)("q-bar"),h=(0,a.up)("q-banner"),g=(0,a.up)("q-form"),y=(0,a.up)("q-card-section"),w=(0,a.up)("q-card"),_=(0,a.up)("q-dialog"),F=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",Ne,[(0,a.Wm)(w,{class:"col-12 q-mt-md bg-transparent no-box-shadow q-mb-xl"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{title:"Dış Fatura Satışlar Listesi",rows:o.invoiceSales,columns:s.baseSetting.invoiceSalesColumns,"row-key":"id",filter:s.filterRow,"rows-per-page-label":"Sayfa başına kayıt:",pagination:s.pagination},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(d,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:s.filterRow,"onUpdate:modelValue":l[0]||(l[0]=e=>s.filterRow=e),placeholder:"Fatura Arayınız..."},{append:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(u,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:l[1]||(l[1]=e=>s.baseSetting.newFormDialog=!0)})])),body:(0,a.w5)((e=>[((0,a.wg)(),(0,a.j4)(p,{props:e,key:e.row.index,class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.InvoiceNo),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.InvoiceTitle),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Piece),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.VatRate),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.UnitPrice)+" TL",1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Total)+" TL",1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(s.baseSetting.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,a.Wm)(m,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{flat:"",color:"blue-grey-8",icon:"fas fa-edit",size:"sm",onClick:l=>o.onEdit(e.row.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"bg-blue-grey-8 text-white",offset:[10,10]},{default:(0,a.w5)((()=>[(0,a.Uk)(" Fatura Düzenleme ")])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(u,{icon:"print",color:"blue-grey-8",fab:"",flat:"",onClick:l=>this.$store.dispatch("InvoiceSales/printSalesInvoice",e.row.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"bg-blue-grey-8 text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Fatura Yazdır ")])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(u,{icon:"print",color:"blue-grey-8",fab:"",flat:"",onClick:l=>this.$store.dispatch("InvoiceSales/printSalesInvoiceCollection",e.row.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"bg-blue-grey-8 text-white"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Fatura Tahsilatı Yazdır ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter","pagination"]),(0,a.Wm)(_,{modelValue:s.baseSetting.newFormDialog,"onUpdate:modelValue":l[11]||(l[11]=e=>s.baseSetting.newFormDialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{style:{"min-width":"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,a.w5)((()=>[Pe,(0,a.Wm)(b),(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{dense:"",flat:"",icon:"close"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Kapat")])),_:1})])),_:1})),[[F]])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{dense:"",class:"bg-grey-1 q-pa-sm"},{avatar:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"priority_high",color:"primary"})])),default:(0,a.w5)((()=>[Ie,Qe])),_:1}),(0,a.Wm)(g,{onSubmit:o.onsubmitInvoice},{default:(0,a.w5)((()=>[(0,a._)("div",Me,[(0,a._)("div",$e,[Oe,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.InvoiceTitle,"onUpdate:modelValue":l[2]||(l[2]=e=>s.formFields.InvoiceTitle=e),placeholder:"İşlem detayı giriniz","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,a._)("div",Ke,[Be,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.InvoiceNo,"onUpdate:modelValue":l[3]||(l[3]=e=>s.formFields.InvoiceNo=e),placeholder:"Fatura Numarası Giriniz","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,a._)("div",He,[Ge,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.UnitPrice,"onUpdate:modelValue":l[4]||(l[4]=e=>s.formFields.UnitPrice=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":"",onKeyup:o.calculate},null,8,["modelValue","rules","onKeyup"])]),(0,a._)("div",Le,[Ee,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.VatRate,"onUpdate:modelValue":l[5]||(l[5]=e=>s.formFields.VatRate=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":"",onKeyup:o.calculate},null,8,["modelValue","rules","onKeyup"])])]),(0,a._)("div",Je,[(0,a._)("div",Ae,[Ye,(0,a.Wm)(d,{type:"number",outlined:"",dense:"",modelValue:s.formFields.Piece,"onUpdate:modelValue":l[6]||(l[6]=e=>s.formFields.Piece=e),"lazy-rules":!0,rules:[e=>e&&e.toString().length>0||"Zorunlu alan"],"hide-bottom-space":"",onKeyup:o.calculate},null,8,["modelValue","rules","onKeyup"])]),(0,a._)("div",je,[Xe,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.SubTotal,"onUpdate:modelValue":l[7]||(l[7]=e=>s.formFields.SubTotal=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])]),(0,a._)("div",el,[ll,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.VatTotal,"onUpdate:modelValue":l[8]||(l[8]=e=>s.formFields.VatTotal=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])]),(0,a._)("div",tl,[al,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.formFields.Total,"onUpdate:modelValue":l[9]||(l[9]=e=>s.formFields.Total=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])])]),(0,a._)("div",sl,[(0,a._)("div",il,[ol,(0,a.Wm)(d,{type:"textarea",outlined:"",modelValue:s.formFields.Description,"onUpdate:modelValue":l[10]||(l[10]=e=>s.formFields.Description=e),"input-style":{maxHeight:"80px"}},null,8,["modelValue"])])]),(0,a._)("div",rl,[(0,a._)("div",nl,[(0,a.Wm)(u,{type:"submit",color:"blue-grey-8",icon:"save",label:"Kaydet"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(_,{modelValue:s.baseSetting.editFormDialog,"onUpdate:modelValue":l[21]||(l[21]=e=>s.baseSetting.editFormDialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{style:{"min-width":"1000px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,a.w5)((()=>[dl,(0,a.Wm)(b),(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{dense:"",flat:"",icon:"close"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Kapat")])),_:1})])),_:1})),[[F]])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{dense:"",class:"bg-grey-1 q-pa-sm"},{avatar:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"priority_high",color:"primary"})])),default:(0,a.w5)((()=>[ul,ml])),_:1}),(0,a.Wm)(g,{onSubmit:o.onUpdateInvoice},{default:(0,a.w5)((()=>[(0,a._)("div",cl,[(0,a._)("div",pl,[vl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.InvoiceTitle,"onUpdate:modelValue":l[12]||(l[12]=e=>s.editFormFields.InvoiceTitle=e),placeholder:"İşlem detayı giriniz","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,a._)("div",bl,[fl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.InvoiceNo,"onUpdate:modelValue":l[13]||(l[13]=e=>s.editFormFields.InvoiceNo=e),placeholder:"Fatura Numarası Giriniz","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,a._)("div",hl,[gl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.UnitPrice,"onUpdate:modelValue":l[14]||(l[14]=e=>s.editFormFields.UnitPrice=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":"",onKeyup:o.updateCalculate},null,8,["modelValue","rules","onKeyup"])]),(0,a._)("div",yl,[wl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.VatRate,"onUpdate:modelValue":l[15]||(l[15]=e=>s.editFormFields.VatRate=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":"",onKeyup:o.updateCalculate},null,8,["modelValue","rules","onKeyup"])])]),(0,a._)("div",_l,[(0,a._)("div",Fl,[xl,(0,a.Wm)(d,{type:"number",outlined:"",dense:"",modelValue:s.editFormFields.Piece,"onUpdate:modelValue":l[16]||(l[16]=e=>s.editFormFields.Piece=e),"lazy-rules":!0,rules:[e=>e&&e.toString().length>0||"Zorunlu alan"],"hide-bottom-space":"",onKeyup:o.updateCalculate},null,8,["modelValue","rules","onKeyup"])]),(0,a._)("div",Vl,[Wl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.SubTotal,"onUpdate:modelValue":l[17]||(l[17]=e=>s.editFormFields.SubTotal=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])]),(0,a._)("div",Rl,[Tl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.VatTotal,"onUpdate:modelValue":l[18]||(l[18]=e=>s.editFormFields.VatTotal=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])]),(0,a._)("div",ql,[Sl,(0,a.Wm)(d,{outlined:"",dense:"",modelValue:s.editFormFields.Total,"onUpdate:modelValue":l[19]||(l[19]=e=>s.editFormFields.Total=e),placeholder:"0.00","lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],"hide-bottom-space":"",mask:"#.##","fill-mask":"0","reverse-fill-mask":""},null,8,["modelValue","rules"])])]),(0,a._)("div",Cl,[(0,a._)("div",Dl,[kl,(0,a.Wm)(d,{type:"textarea",outlined:"",modelValue:s.editFormFields.Description,"onUpdate:modelValue":l[20]||(l[20]=e=>s.editFormFields.Description=e),"input-style":{maxHeight:"80px"}},null,8,["modelValue"])])]),(0,a._)("div",Ul,[(0,a._)("div",Zl,[(0,a.Wm)(u,{type:"submit",color:"blue-8",icon:"save",label:"Güncelle"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])}var Nl=t(4147);const Pl=[{name:"InvoiceNo",align:"center",label:"Fatura Numarası",field:"InvoiceNo",sortable:!0},{name:"InvoiceTitle",align:"center",label:"İşlem",field:"InvoiceTitle",sortable:!0},{name:"Piece",align:"center",label:"Miktar",field:"Piece",sortable:!0},{name:"VatRate",align:"center",label:"KDV Oranı",field:"VatRate"},{name:"UnitPrice",align:"center",label:"Birim Fiyatı",field:"UnitPrice"},{name:"Total",align:"center",label:"Toplam",field:"Total"},{name:"created_at",align:"center",label:"Tarih",field:"created_at",sortable:!0},{name:"id",align:"center",label:"",field:"id"}],Il={name:"Index",setup(){const e=[],l=(0,r.iH)(""),t={sortBy:"id",rowsPerPage:10};return{pagination:t,filterRow:l,baseSetting:(0,r.iH)({dateFormat:Nl.v,invoiceSalesColumns:Pl,CustomersRows:e,newFormDialog:(0,r.iH)(!1),editFormDialog:(0,r.iH)(!1),onEditCustomerId:(0,r.iH)(null)}),formFields:(0,r.iH)({InvoiceNo:"",InvoiceTitle:"",UnitPrice:"",Piece:1,VatRate:"5.00",UnitTotal:"",SubTotal:"",VatTotal:"",Total:"",Description:""}),editFormFields:(0,r.iH)({})}},methods:{onsubmitInvoice(){let e=new FormData;for(const[l,t]of Object.entries(this.formFields))e.append(l,t);this.$store.dispatch("InvoiceSales/create",e).then((e=>{!0===e&&(this.baseSetting.newFormDialog=!1,this.onReset())}))},calculate(){const e=Number.parseInt(this.formFields.Piece),l=Number.parseFloat(this.formFields.UnitPrice)*e,t=Number.parseFloat(this.formFields.VatRate),a=l*t/100,s=l-a;this.formFields.UnitTotal=l.toFixed(2),this.formFields.SubTotal=s.toFixed(2),this.formFields.VatTotal=a.toFixed(2),this.formFields.Total=s.toFixed(2),this.formFields.Piece=e},updateCalculate(){const e=Number.parseInt(this.editFormFields.Piece),l=Number.parseFloat(this.editFormFields.UnitPrice)*e,t=Number.parseFloat(this.editFormFields.VatRate),a=l*t/100,s=l-a;this.editFormFields.UnitTotal=l.toFixed(2),this.editFormFields.SubTotal=s.toFixed(2),this.editFormFields.VatTotal=a.toFixed(2),this.editFormFields.Total=s.toFixed(2),this.editFormFields.Piece=e},onReset(){this.formFields.InvoiceNo="",this.formFields.InvoiceTitle="",this.formFields.UnitPrice="",this.formFields.Piece=1,this.formFields.VatRate="5.00",this.formFields.UnitTotal="",this.formFields.SubTotal="",this.formFields.VatTotal="",this.formFields.Total="",this.formFields.Description=""},onEdit(e){this.editFormFields=JSON.parse(JSON.stringify(this.invoiceSales.find((l=>+l.id===+e)))),this.baseSetting.editFormDialog=!0},onUpdateInvoice(){let e=new FormData;for(const[l,t]of Object.entries(this.editFormFields))e.append(l,t);e.append("_method","PUT"),this.$store.dispatch("InvoiceSales/update",e).then((e=>{!0===e&&(this.baseSetting.editFormDialog=!1,this.onReset())}))}},mounted(){this.$store.dispatch("InvoiceSales/get")},computed:{invoiceSales(){return this.$store.getters["InvoiceSales/invoiceSalesGetter"]}}};var Ql=t(8186);const Ml=(0,de.Z)(Il,[["render",zl]]),$l=Ml;_e()(Il,"components",{QCard:ue.Z,QTable:fe.Z,QInput:he.Z,QIcon:ge.Z,QBtn:pe.Z,QTr:Ql.Z,QTd:ke.Z,QTooltip:ve.Z,QDialog:Ue.Z,QBar:me.Z,QSpace:ce.Z,QCardSection:be.Z,QBanner:Re.Z,QForm:Te.Z}),_e()(Il,"directives",{ClosePopup:ye.Z});const Ol={name:"Index",setup(){return{tab:(0,r.iH)("reservations")}},components:{BaseReports:ze,InvoiceSales:$l},mounted(){this.$store.dispatch("CustomerGroupsModule/get"),this.$store.dispatch("CustomersModule/get"),this.$store.dispatch("CarBrandsModule/getCarBrands"),this.$store.dispatch("CarModelsModule/getCarModels"),this.$store.dispatch("CarTypesModule/get"),this.$store.dispatch("CarFuelTypesModule/get"),this.$store.dispatch("OfficeModule/get")}};var Kl=t(7547),Bl=t(3269),Hl=t(5906),Gl=t(6602);const Ll=(0,de.Z)(Ol,[["render",o]]),El=Ll;_e()(Ol,"components",{QCard:ue.Z,QTabs:Kl.Z,QTab:Bl.Z,QSeparator:qe.Z,QTabPanels:Hl.Z,QTabPanel:Gl.Z})}}]);