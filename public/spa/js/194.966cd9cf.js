"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[194],{7194:(e,t,l)=>{l.r(t),l.d(t,{default:()=>$});var o=l(3673),a=l(2323);const s=(0,o._)("div",{class:"text-h4"},"Yeni Müşteri Grubu Kaydı ",-1),i=(0,o._)("div",{class:"text-h4"}," Müşteri Grubu Düzenle ",-1);function r(e,t,l,r,u,d){const n=(0,o.up)("q-icon"),p=(0,o.up)("q-input"),m=(0,o.up)("q-btn"),c=(0,o.up)("q-td"),g=(0,o.up)("q-chip"),f=(0,o.up)("q-tooltip"),w=(0,o.up)("q-tr"),h=(0,o.up)("q-table"),b=(0,o.up)("q-space"),_=(0,o.up)("q-bar"),y=(0,o.up)("group-create"),W=(0,o.up)("q-card-section"),q=(0,o.up)("q-card"),x=(0,o.up)("q-dialog"),k=(0,o.up)("group-edit"),D=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{title:"Müşteri Grupları",rows:d.GroupsRow,columns:r.GroupsColumns,"row-key":"id","rows-per-page-label":"Sayfa başına kayıt:",filter:r.filter},{"top-right":(0,o.w5)((()=>[(0,o.Wm)(p,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:r.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>r.filter=e),placeholder:"Müşteri Grup Arayınız..."},{append:(0,o.w5)((()=>[(0,o.Wm)(n,{name:"search"})])),_:1},8,["modelValue"]),(0,o.Wm)(m,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:t[1]||(t[1]=e=>r.groupDialogCreate=!0)}),(0,o.Wm)(m,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-pa-sm",disable:""})])),body:(0,o.w5)((e=>[((0,o.wg)(),(0,o.j4)(w,{props:e,key:e.row.index,class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.Name),1)])),_:2},1024),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.Description),1)])),_:2},1024),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{square:"",color:1===+e.row.Status?"positive":"negative","text-color":"white",icon:1===+e.row.Status?"done":"clear",size:"13px"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(1===+e.row.Status?"Açık":"Kapalı"),1)])),_:2},1032,["color","icon"])])),_:2},1024),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(r.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,o.Wm)(c,{class:"text-right"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{flat:"",color:"blue-grey-9",icon:"fas fa-edit",size:"sm",onClick:t=>d.onEdit(e.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"bg-indigo",offset:[10,10]},{default:(0,o.w5)((()=>[(0,o.Uk)(" Grup Düzenleme ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter"]),(0,o.Wm)(x,{modelValue:r.groupDialogCreate,"onUpdate:modelValue":t[3]||(t[3]=e=>r.groupDialogCreate=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{style:{"min-width":"500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,o.w5)((()=>[s,(0,o.Wm)(b),(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{dense:"",flat:"",icon:"close",onClick:d.onReset},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Kapat")])),_:1})])),_:1},8,["onClick"])),[[D]])])),_:1}),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{onCloseFromDialogCreate:t[2]||(t[2]=e=>this.groupDialogCreate=!1)})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(x,{modelValue:r.groupDialogEdit,"onUpdate:modelValue":t[5]||(t[5]=e=>r.groupDialogEdit=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{style:{"min-width":"500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(b),(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{dense:"",flat:"",icon:"close",onClick:d.onReset},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Kapat")])),_:1})])),_:1},8,["onClick"])),[[D]])])),_:1}),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,{onCloseFromDialogEdit:t[4]||(t[4]=e=>this.groupDialogEdit=!1),"group-id":this.formFields.editId},null,8,["group-id"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var u=l(1959);const d=[{name:"Name",align:"center",label:"Müşteri Grubu",field:"Name",sortable:!0},{name:"Description",align:"center",label:"Açıklama",field:"Description"},{name:"Status",align:"center",label:"Status",field:"Status",sortable:!0},{name:"created_at",align:"center",label:"Tarih",field:"created_at",sortable:!0},{name:"id",align:"center",label:"",field:"id"}],n=d;var p=l(8898);const m={class:"row"},c={class:"col-12 q-pa-xs"},g=(0,o._)("div",{class:"text-subtitle2 text-grey-8"}," Grup Adı ",-1),f={class:"col-12 q-pa-xs"},w=(0,o._)("div",{class:"text-subtitle2 text-grey-8"}," Grup Açıklaması",-1),h={class:"col-12 q-pa-xs"},b=(0,o._)("div",{class:"text-subtitle2 text-grey-8"}," Grup Statusu",-1),_={key:0,class:"col-12 q-pxs text-right"},y={key:1,class:"col-12 q-pxs text-right"};function W(e,t,l,a,s,i){const r=(0,o.up)("q-input"),u=(0,o.up)("q-toggle"),d=(0,o.up)("q-btn"),n=(0,o.up)("q-form");return(0,o.wg)(),(0,o.j4)(n,{onSubmit:t[3]||(t[3]=e=>i.onUpdate()),onReset:i.onReset},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o._)("div",c,[g,(0,o.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:a.formFields.Name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.formFields.Name=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Örn Yakındoğu Teknoloji"},null,8,["modelValue","rules"])]),(0,o._)("div",f,[w,(0,o.Wm)(r,{type:"textarea","hide-bottom-space":"",outlined:"",dense:"",modelValue:a.formFields.Description,"onUpdate:modelValue":t[1]||(t[1]=e=>a.formFields.Description=e),placeholder:"Açıklaması"},null,8,["modelValue"])]),(0,o._)("div",h,[b,(0,o.Wm)(u,{modelValue:a.formFields.Status,"onUpdate:modelValue":t[2]||(t[2]=e=>a.formFields.Status=e),color:"green"},null,8,["modelValue"])]),a.formFields.id?((0,o.wg)(),(0,o.iD)("div",_,[(0,o.Wm)(d,{label:"Güncelle",type:"submit",color:"blue-grey-8","icon-right":"save"})])):((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(d,{label:"Sıfırla",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,o.Wm)(d,{label:"Kaydet",type:"submit",color:"blue-grey-8","icon-right":"save"})]))])])),_:1},8,["onReset"])}l(71);const q={name:"GroupEdit",props:["groupId"],setup(){return{formFields:(0,u.iH)({Name:"",Description:"",Status:!0})}},methods:{onReset(){this.formFields.Name="",this.formFields.Description="",this.formFields.Status=!0},onEdit(e){const t={...e};t.Status=1===+t.Status,this.formFields=t},onUpdate(){let e=new FormData;for(const[t,l]of Object.entries(this.formFields))e.append(t,l);e.append("_method","PUT"),this.$store.dispatch("CustomerGroupsModule/update",e).then((e=>{!0===e&&(this.onReset(),this.$emit("closeFromDialogEdit"),delete this.formFields.id)}))}},mounted(){this.onEdit(this.groupId)}};var x=l(4260),k=l(5269),D=l(4689),C=l(8886),F=l(2165),v=l(7518),Z=l.n(v);const G=(0,x.Z)(q,[["render",W]]),S=G;Z()(q,"components",{QForm:k.Z,QInput:D.Z,QToggle:C.Z,QBtn:F.Z});var Q=l(4147);const V={name:"Groups",setup(){return{filter:(0,u.iH)(""),selected:(0,u.iH)([]),GroupsColumns:n,dateFormat:Q.v,groupDialogCreate:(0,u.iH)(!1),groupDialogEdit:(0,u.iH)(!1),formFields:(0,u.iH)({editId:(0,u.iH)(null),Name:"",Description:"",Status:!0})}},components:{GroupCreate:p.Z,GroupEdit:S},methods:{onEdit(e){this.formFields.editId=e,this.groupDialogEdit=!0},onReset(){this.formFields.Name="",this.formFields.Description="",this.formFields.Status=!0}},computed:{GroupsRow(){return this.$store.getters["CustomerGroupsModule/getRecords"]}},mounted(){this.$store.dispatch("CustomerGroupsModule/get")}};var U=l(4993),E=l(4554),R=l(8186),z=l(3884),T=l(7030),N=l(8870),H=l(4390),I=l(151),M=l(846),j=l(2025),A=l(5589),K=l(677);const Y=(0,x.Z)(V,[["render",r]]),$=Y;Z()(V,"components",{QTable:U.Z,QInput:D.Z,QIcon:E.Z,QBtn:F.Z,QTr:R.Z,QTd:z.Z,QChip:T.Z,QTooltip:N.Z,QDialog:H.Z,QCard:I.Z,QBar:M.Z,QSpace:j.Z,QCardSection:A.Z}),Z()(V,"directives",{ClosePopup:K.Z})}}]);