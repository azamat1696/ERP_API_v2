"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[890],{5890:(e,l,s)=>{s.r(l),s.d(l,{default:()=>ue});var t=s(3673),o=s(2323);const a={class:"q-pa-md"},i=(0,t._)("div",{class:"text-h4"},"Yeni Kullanıcı Kaydı ",-1),r=(0,t._)("div",{class:"text-h4"},"Kullanıcı Düzenleme ",-1);function d(e,l,s,d,n,m){const u=(0,t.up)("q-icon"),c=(0,t.up)("q-input"),p=(0,t.up)("q-btn"),g=(0,t.up)("q-td"),f=(0,t.up)("q-tooltip"),h=(0,t.up)("q-tr"),w=(0,t.up)("q-table"),b=(0,t.up)("q-space"),F=(0,t.up)("q-bar"),_=(0,t.up)("new-user-form"),x=(0,t.up)("q-card"),y=(0,t.up)("q-dialog"),U=(0,t.up)("edit-user-form"),q=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t.Wm)(w,{title:"Kullanıcı Listesi",rows:m.users,columns:d.baseSetting.UsersColumns,"row-key":"id",filter:d.filterRow,"rows-per-page-label":"Sayfa başına kayıt:",pagination:d.pagination},{"top-right":(0,t.w5)((()=>[(0,t.Wm)(c,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:d.filterRow,"onUpdate:modelValue":l[0]||(l[0]=e=>d.filterRow=e),placeholder:"Kullanıcı Arayınız..."},{append:(0,t.w5)((()=>[(0,t.Wm)(u,{name:"search"})])),_:1},8,["modelValue"]),(0,t.Wm)(p,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:l[1]||(l[1]=e=>d.baseSetting.newFormDialog=!0)}),(0,t.Wm)(p,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-pa-sm",disable:""})])),body:(0,t.w5)((e=>[((0,t.wg)(),(0,t.j4)(h,{props:e,key:e.row.index,class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.row.name+" "+e.row.surname),1)])),_:2},1024),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.row.email),1)])),_:2},1024),(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(d.baseSetting.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,t.Wm)(g,{class:"text-right"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{flat:"",color:"blue-grey-8",icon:"fas fa-user-edit",size:"sm",onClick:l=>m.onEdit(e.row.id),label:"Düzenleme"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"bg-indigo",offset:[10,10]},{default:(0,t.w5)((()=>[(0,t.Uk)(" Kullanıcı Düzenleme ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter","pagination"]),(0,t.Wm)(y,{modelValue:d.baseSetting.newFormDialog,"onUpdate:modelValue":l[3]||(l[3]=e=>d.baseSetting.newFormDialog=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{"min-width":"800px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,t.w5)((()=>[i,(0,t.Wm)(b),(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{dense:"",flat:"",icon:"close"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Kapat")])),_:1})])),_:1})),[[q]])])),_:1}),(0,t.Wm)(_,{onCloseUserDialog:l[2]||(l[2]=e=>this.baseSetting.newFormDialog=!1)})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(y,{modelValue:d.baseSetting.editFormDialog,"onUpdate:modelValue":l[5]||(l[5]=e=>d.baseSetting.editFormDialog=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{style:{"min-width":"800px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,t.w5)((()=>[r,(0,t.Wm)(b),(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{dense:"",flat:"",icon:"close"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Kapat")])),_:1})])),_:1})),[[q]])])),_:1}),(0,t.Wm)(U,{onCloseUserDialog:l[4]||(l[4]=e=>this.baseSetting.editFormDialog=!1),"user-id":d.baseSetting.onEditUserId},null,8,["user-id"])])),_:1})])),_:1},8,["modelValue"])])}const n=[{name:"name",align:"center",label:"İsim & Soyisim",field:"name",sortable:!0},{name:"email",align:"center",label:"E-posta",field:"email"},{name:"created_at",align:"center",label:"Tarih",field:"created_at",sortable:!0},{name:"id",align:"center",label:"",field:"id"}],m=n,u={class:"q-pa-md"},c={class:"row"},p={class:"col-6 q-pa-xs"},g=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," İsim ",-1),f={class:"col-6 q-pa-xs"},h=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Soyismi ",-1),w={class:"col-6 q-pa-xs"},b=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," E-posta ",-1),F={class:"col-6 q-pa-xs"},_=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Şifre ",-1),x={class:"text-right"};function y(e,l,s,o,a,i){const r=(0,t.up)("q-input"),d=(0,t.up)("q-btn"),n=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(n,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",p,[g,(0,t.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.userName,"onUpdate:modelValue":l[0]||(l[0]=e=>o.formFields.userName=e),rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Jhon"},null,8,["modelValue","rules"])]),(0,t._)("div",f,[h,(0,t.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.userSurname,"onUpdate:modelValue":l[1]||(l[1]=e=>o.formFields.userSurname=e),rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Snow"},null,8,["modelValue","rules"])]),(0,t._)("div",w,[b,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.userEmail,"onUpdate:modelValue":l[2]||(l[2]=e=>o.formFields.userEmail=e),placeholder:"example@gmail.com","hide-bottom-space":""},null,8,["modelValue"])]),(0,t._)("div",F,[_,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.userPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>o.formFields.userPassword=e),"hide-bottom-space":""},null,8,["modelValue"])])]),(0,t._)("div",x,[(0,t.Wm)(d,{label:"Temizle",type:"reset",color:"red-10",icon:"restart_alt",class:"q-mr-sm"}),(0,t.Wm)(d,{label:"Kaydet",type:"submit",color:"blue-grey-8","icon-right":"save"})])])),_:1},8,["onSubmit","onReset"])])}var U=s(1959);const q={name:"NewUserForm",setup(){return{formFields:(0,U.iH)({userName:(0,U.iH)(""),userSurname:(0,U.iH)(""),userEmail:(0,U.iH)(""),userPassword:(0,U.iH)("")})}},mounted(){this.onReset()},methods:{onSubmit(){let e=new FormData;e.append("name",this.formFields.userName),e.append("surname",this.formFields.userSurname),e.append("email",this.formFields.userEmail),e.append("password",this.formFields.userPassword),this.$store.dispatch("UsersModule/create",e).then((e=>{!0===e&&(this.$emit("closeUserDialog"),this.onReset())}))},onReset(){this.formFields.userName="",this.formFields.userSurname="",this.formFields.userPassword="",this.formFields.userEmail=""}}};var V=s(4260),v=s(5269),W=s(4689),S=s(2165),Z=s(7518),D=s.n(Z);const k=(0,V.Z)(q,[["render",y]]),Q=k;D()(q,"components",{QForm:v.Z,QInput:W.Z,QBtn:S.Z});const E={class:"q-pa-md"},R={class:"row"},C={class:"col-4 q-pa-xs"},z=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," İsim ",-1),H={class:"col-4 q-pa-xs"},P=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Soyism",-1),K={class:"col-4 q-pa-xs"},T=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," E-posta ",-1),I={class:"col-4 q-pa-xs"},N=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Eski Şifre ",-1),$={class:"col-4 q-pa-xs"},B=(0,t._)("div",{class:"text-subtitle2 text-grey-8"}," Yeni Şifre ",-1),M={class:"col-4 q-pa-xs"},j=(0,t._)("div",{class:"text-subtitle2 text-grey-8"},"Tekrar girin ",-1),J={class:"col text-right"};function O(e,l,s,o,a,i){const r=(0,t.up)("q-input"),d=(0,t.up)("q-btn"),n=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",E,[(0,t.Wm)(n,{class:"q-gutter-md",onSubmit:i.onUpdate,onReset:i.onReset},{default:(0,t.w5)((()=>[(0,t._)("div",R,[(0,t._)("div",C,[z,(0,t.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.name,"onUpdate:modelValue":l[0]||(l[0]=e=>o.formFields.name=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Jhon",readonly:""},null,8,["modelValue","rules"])]),(0,t._)("div",H,[P,(0,t.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.surname,"onUpdate:modelValue":l[1]||(l[1]=e=>o.formFields.surname=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Snow",readonly:""},null,8,["modelValue","rules"])]),(0,t._)("div",K,[T,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.email,"onUpdate:modelValue":l[2]||(l[2]=e=>o.formFields.email=e),placeholder:"example@gmail.com","hide-bottom-space":"",readonly:""},null,8,["modelValue"])]),(0,t._)("div",I,[N,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.oldPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>o.formFields.oldPassword=e),"hide-bottom-space":""},null,8,["modelValue"])]),(0,t._)("div",$,[B,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.password,"onUpdate:modelValue":l[4]||(l[4]=e=>o.formFields.password=e),"hide-bottom-space":""},null,8,["modelValue"])]),(0,t._)("div",M,[j,(0,t.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.password_confirmation,"onUpdate:modelValue":l[5]||(l[5]=e=>o.formFields.password_confirmation=e),"hide-bottom-space":""},null,8,["modelValue"])])]),(0,t._)("div",J,[(0,t.Wm)(d,{class:"q-mt-lg",label:" Güncelle",type:"submit",color:"secondary","icon-right":"refresh",onClick:i.onUpdate},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])])}s(71);const Y={name:"EditUserForm",props:["userId"],setup(){return{formFields:(0,U.iH)({})}},mounted(){this.buildFormFields(this.userId)},methods:{buildFormFields(e){this.formFields=JSON.parse(JSON.stringify(this.$store.getters["UsersModule/getRecord"](e)))},onUpdate(){let e=new FormData;for(const[l,s]of Object.entries(this.formFields))e.append(l,s);e.append("_method","PUT"),this.$store.dispatch("UsersModule/update",e).then((e=>{!0===e&&this.$emit("closeUserDialog")}))},onReset(){this.formFields=""}}},A=(0,V.Z)(Y,[["render",O]]),G=A;D()(Y,"components",{QForm:v.Z,QInput:W.Z,QBtn:S.Z});var L=s(4147);const X={name:"Users",setup(){const e=[],l=(0,U.iH)(""),s={sortBy:"id",rowsPerPage:10};return{pagination:s,filterRow:l,baseSetting:(0,U.iH)({dateFormat:L.v,UsersColumns:m,CustomersRows:e,newFormDialog:(0,U.iH)(!1),editFormDialog:(0,U.iH)(!1),onEditUserId:(0,U.iH)(null)})}},components:{NewUserForm:Q,EditUserForm:G},mounted(){this.$store.dispatch("UsersModule/get")},computed:{users(){return this.$store.getters["UsersModule/getRecords"]}},methods:{onEdit(e){this.baseSetting.onEditUserId=e,this.baseSetting.editFormDialog=!0}}};var ee=s(4993),le=s(4554),se=s(8186),te=s(3884),oe=s(8870),ae=s(4390),ie=s(151),re=s(846),de=s(2025),ne=s(677);const me=(0,V.Z)(X,[["render",d]]),ue=me;D()(X,"components",{QTable:ee.Z,QInput:W.Z,QIcon:le.Z,QBtn:S.Z,QTr:se.Z,QTd:te.Z,QTooltip:oe.Z,QDialog:ae.Z,QCard:ie.Z,QBar:re.Z,QSpace:de.Z}),D()(X,"directives",{ClosePopup:ne.Z})}}]);