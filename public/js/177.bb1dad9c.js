"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[177],{1177:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var t=l(3673),o=l(2323);const d={class:"q-pa-md"},r=(0,t._)("i",{class:"fas fa-edit"},null,-1),s=(0,t._)("i",{class:"fas fa-trash-alt"},null,-1),i={key:0,class:"text-h4"},n={key:1,class:"text-h4"},u={key:0,class:"text-right"},c={key:1,class:"text-right"};function m(e,a,l,m,p,h){const M=(0,t.up)("q-icon"),w=(0,t.up)("q-input"),g=(0,t.up)("q-btn"),C=(0,t.up)("q-td"),f=(0,t.up)("q-chip"),b=(0,t.up)("q-tr"),B=(0,t.up)("q-table"),F=(0,t.up)("q-space"),_=(0,t.up)("q-tooltip"),k=(0,t.up)("q-bar"),S=(0,t.up)("q-item-section"),q=(0,t.up)("q-item"),y=(0,t.up)("q-select"),W=(0,t.up)("q-toggle"),N=(0,t.up)("q-form"),Z=(0,t.up)("q-card-section"),v=(0,t.up)("q-card"),Q=(0,t.up)("q-dialog"),x=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(B,{title:"Araç Modelleri",rows:h.carModels,columns:p.carsModelColumns,"row-key":"id",filter:p.filterCarModels},{"top-right":(0,t.w5)((()=>[(0,t.Wm)(w,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:p.filterCarModels,"onUpdate:modelValue":a[0]||(a[0]=e=>p.filterCarModels=e),placeholder:"Model Arayınız..."},{append:(0,t.w5)((()=>[(0,t.Wm)(M,{name:"search"})])),_:1},8,["modelValue"]),(0,t.Wm)(g,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:a[1]||(a[1]=e=>p.showNewCarModelDialog=!0)}),(0,t.Wm)(g,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-pa-sm",disable:""})])),body:(0,t.w5)((e=>[((0,t.wg)(),(0,t.j4)(b,{props:e,key:e.row.index,class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)({...this.$store.getters["CarBrandsModule/getCarBrandFromState"](e.row.brand_id)}.BrandName),1)])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.row.ModelName),1)])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{square:"",color:1===+e.row.Status?"positive":"negative","text-color":"white",icon:1===+e.row.Status?"done":"clear",size:"13px"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(1===+e.row.Status?"Açık":"Kapalı"),1)])),_:2},1032,["color","icon"])])),_:2},1024),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(p.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,t.Wm)(C,{class:"text-right"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{flat:"",round:"",color:"blue-grey-9",onClick:a=>h.onEdit(e.row.id)},{default:(0,t.w5)((()=>[r])),_:2},1032,["onClick"]),(0,t.Wm)(g,{flat:"",round:"",color:"primary",onClick:a=>h.onRemove(e.row.id)},{default:(0,t.w5)((()=>[s])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter"]),(0,t.Wm)(Q,{modelValue:p.showNewCarModelDialog,"onUpdate:modelValue":a[5]||(a[5]=e=>p.showNewCarModelDialog=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{style:{"min-width":"500px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"q-pa-md",style:{height:"50px"}},{default:(0,t.w5)((()=>[p.carModelFields.id?((0,t.wg)(),(0,t.iD)("div",n,"Modeli Güncelle")):((0,t.wg)(),(0,t.iD)("div",i,"Yeni Bir Model Oluştur")),(0,t.Wm)(F),(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{dense:"",flat:"",icon:"close",onClick:h.onReset},{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Kapat")])),_:1})])),_:1},8,["onClick"])),[[x]])])),_:1}),(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(N,{onSubmit:h.onSubmit,onReset:h.onReset,class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{outlined:"",dense:"",modelValue:p.carModelFields.ModelName,"onUpdate:modelValue":a[2]||(a[2]=e=>p.carModelFields.ModelName=e),label:"Model Adı","lazy-rules":"",rules:[e=>e&&e.length>0||"Zorunlu alan"]},null,8,["modelValue","rules"]),(0,t.Wm)(y,{modelValue:p.carModelFields.CarBrand,"onUpdate:modelValue":a[3]||(a[3]=e=>p.carModelFields.CarBrand=e),"use-input":"",label:"Araç Markası",options:p.carBrandsOptions,"option-label":e=>e.BrandName,"option-value":e=>e.id,onFilter:h.filterFn,dense:"",outlined:""},{"no-option":(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"text-grey"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Kayıt Bulunamadı ")])),_:1})])),_:1})])),_:1},8,["modelValue","options","option-label","option-value","onFilter"]),(0,t.Wm)(W,{modelValue:p.carModelFields.Status,"onUpdate:modelValue":a[4]||(a[4]=e=>p.carModelFields.Status=e),label:"Statüsü",color:"green"},null,8,["modelValue"]),p.carModelFields.id?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(g,{label:"Güncelle",type:"button",color:"blue","icon-right":"save",flat:"",onClick:h.onUpdate},null,8,["onClick"])])):((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(g,{label:"Sıfırla",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,t.Wm)(g,{label:"Kaydet",type:"submit",color:"positive","icon-right":"save",flat:""})]))])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var p=l(1959),h=l(4147),M=l(7590),w=l(8508);const g=[{name:"BrandLogo",align:"center",label:"Marka Adı",field:"BrandLogo",sortable:!1},{name:"BrandName",align:"center",label:"Model Adı",field:"BrandName",sortable:!0},{name:"Status",align:"center",label:"Statusu",field:"Status",sortable:!0},{name:"created_at",align:"center",label:"Tarih",field:"created_at"},{name:"id",align:"center",label:"",field:"id"}],C=g,f={name:"Index",data(){const e=(0,p.iH)(""),a=(0,p.iH)(!1);return{carsModelColumns:C,filterCarModels:e,selected:(0,p.iH)([]),dateFormat:h.v,Constants:M.Z,showNewCarModelDialog:a,carModelFields:{ModelName:(0,p.iH)(""),Status:(0,p.iH)(!0),CarBrand:(0,p.iH)(null),id:(0,p.iH)("")},carBrandsOptions:(0,p.iH)([])}},mounted(){this.$store.dispatch("CarModelsModule/getCarModels"),this.$store.dispatch("CarBrandsModule/getCarBrands"),this.initCarBrands()},computed:{carBrands(){return this.$store.getters["CarBrandsModule/getRecordsByStatus"](1)},carModels(){return this.$store.getters["CarModelsModule/carModels"]}},methods:{initCarBrands(){this.carBrandsOptions=this.carBrands},onRemove(e){w.Z.create({title:"Eminmisiniz?",message:"Silmeniz durumunda işlemi geriye alamassınız.!",persistent:!0,ok:{label:"Sil",flat:!0},cancel:{flat:!0,label:"İptal Et"}}).onOk((()=>{this.$store.dispatch("CarModelsModule/destroy",e)})).onCancel((()=>{}))},filterFn(e,a,l){a((()=>{const a=e.toLowerCase();this.carBrandsOptions=this.carBrands.filter((e=>e.BrandName.toLowerCase().indexOf(a)>-1))}))},onSubmit(){let e=new FormData;e.append("ModelName",this.carModelFields.ModelName),e.append("Status",this.carModelFields.Status),e.append("brand_id",this.carModelFields.CarBrand.id),this.$store.dispatch("CarModelsModule/create",e).then((e=>{this.showNewCarModelDialog=!1,this.onReset()}))},onReset(){this.carModelFields.id="",this.carModelFields.CarBrand="",this.carModelFields.ModelName="",this.carModelFields.brand_id="",this.carModelFields.Status=!0},getCarBrandName(e){const a=this.carBrands.find((a=>+a.id===+e));return a?a.BrandName:""},onEdit(e){const a=this.carModels.find((a=>+a.id===+e)),l=this.carBrands.find((e=>+e.id===+a.brand_id));this.carModelFields.ModelName=a.ModelName,this.carModelFields.id=+a.id,this.carModelFields.CarBrand=l,this.carModelFields.Status=1===+a.Status,this.showNewCarModelDialog=!0},onUpdate(){let e=new FormData;e.append("ModelName",this.carModelFields.ModelName),e.append("Status",this.carModelFields.Status),e.append("brand_id",this.carModelFields.CarBrand.id),e.append("id",this.carModelFields.id),e.append("_method","PUT"),this.$store.dispatch("CarModelsModule/update",e).then((e=>{this.onReset(),this.showNewCarModelDialog=!1}))}}};var b=l(4260),B=l(4993),F=l(4689),_=l(4554),k=l(2165),S=l(8186),q=l(3884),y=l(7030),W=l(4390),N=l(151),Z=l(846),v=l(2025),Q=l(8870),x=l(5589),D=l(5269),V=l(3314),U=l(3414),z=l(2035),R=l(8886),T=l(677),H=l(7518),O=l.n(H);const $=(0,b.Z)(f,[["render",m]]),A=$;O()(f,"components",{QTable:B.Z,QInput:F.Z,QIcon:_.Z,QBtn:k.Z,QTr:S.Z,QTd:q.Z,QChip:y.Z,QDialog:W.Z,QCard:N.Z,QBar:Z.Z,QSpace:v.Z,QTooltip:Q.Z,QCardSection:x.Z,QForm:D.Z,QSelect:V.Z,QItem:U.Z,QItemSection:z.Z,QToggle:R.Z}),O()(f,"directives",{ClosePopup:T.Z})}}]);