"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[48],{5048:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var l=t(3673);const n=e=>((0,l.dD)("data-v-5e4ce15f"),e=e(),(0,l.Cn)(),e),r={class:"q-pa-md"},s={class:"text-h6"},i={class:"col-6 q-pa-sm"},d={class:"col-6 q-pa-sm"},o=n((()=>(0,l._)("div",{class:"text-subtitle1 text-center"},"Marka Resmi",-1))),c={class:"row"},m={class:"col-9"},u={class:"col-3"},p={class:"col-12 text-left q-pr-sm"};function g(e,a,t,n,g,h){const B=(0,l.up)("q-btn"),v=(0,l.up)("q-card-section"),f=(0,l.up)("q-input"),b=(0,l.up)("q-toggle"),F=(0,l.up)("q-img"),_=(0,l.up)("q-icon"),w=(0,l.up)("q-file"),S=(0,l.up)("q-card"),q=(0,l.up)("q-form");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(B,{round:"",color:"primary",flat:"",icon:"arrow_back",onClick:a[0]||(a[0]=a=>e.$router.go(-1))}),(0,l.Uk)("Marka Güncelleme")])])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,{onSubmit:h.onSubmit,class:"row"},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(f,{filled:"",modelValue:g.carBrandFields.BrandName,"onUpdate:modelValue":a[1]||(a[1]=e=>g.carBrandFields.BrandName=e),label:"Yeni Marka İsmi","lazy-rules":"",rules:[e=>e.length>=3||"Zorunlu Alan"]},null,8,["modelValue","rules"]),(0,l.Wm)(b,{modelValue:g.carBrandFields.Status,"onUpdate:modelValue":a[2]||(a[2]=e=>g.carBrandFields.Status=e),label:"Marka Statusu",color:"positive"},null,8,["modelValue"])]),(0,l._)("div",d,[(0,l.Wm)(S,{class:"q-pa-sm q-img-card"},{default:(0,l.w5)((()=>[o,(0,l.Wm)(F,{class:"imgPreview",src:g.imgPreview,"spinner-color":"white",style:{"max-height":"200px"},fit:"contain"},null,8,["src"]),(0,l._)("div",c,[(0,l._)("div",m,[(0,l.Wm)(w,{class:"q-mt-sm",color:"grey",modelValue:g.carBrandFields.BrandLogo,"onUpdate:modelValue":[a[3]||(a[3]=e=>g.carBrandFields.BrandLogo=e),h.fileOnChosen],label:"Marka Resmi Seçiniz...",outlined:"",onRejected:g.onRejected,"max-files":"1",accept:".jpg,.jpeg,.png","max-file-size":"1048576",dense:""},{prepend:(0,l.w5)((()=>[(0,l.Wm)(_,{name:"attach_file"})])),_:1},8,["modelValue","onRejected","onUpdate:modelValue"])]),(0,l._)("div",u,[(0,l.Wm)(B,{onClick:h.removeSelectedImg,outline:"",label:"Sil",class:"q-mt-sm q-ml-sm text-right",color:"primary",icon:"clear",style:{"min-height":"39px"}},null,8,["onClick"])])])])),_:1})]),(0,l._)("div",p,[(0,l.Wm)(B,{label:"Güncelle",type:"submit",color:"blue-9","icon-right":"update"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])}t(71),t(7965),t(6016);var h=t(8825),B=t(7590);const v={name:"Create",data(){const e=(0,h.Z)();function a(){e.notify({type:"negative",position:"bottom-right",message:"Dosya boyutu yüksek, Lütfen , dosya boyutu max 1 MB olsun "})}return{onRejected:a,Constants:B.Z,carBrandFields:{BrandName:"",BrandLogo:null,Status:!0,id:""},imgPreview:""}},methods:{fileOnChosen(e){if(null===e)return this.imgPreview=this.Constants.NO_IMG,this.carBrandFields.BrandLogo="",!1;this.carBrandFields.BrandLogo=e,this.imgPreview=URL.createObjectURL(e)},removeSelectedImg(){this.imgPreview=this.Constants.NO_IMG,this.carBrandFields.BrandLogo=""},onSubmit(){let e=new FormData;e.append("BrandName",this.carBrandFields.BrandName),this.carBrandFields.BrandLogo&&e.append("BrandLogo",this.carBrandFields.BrandLogo),e.append("Status",this.carBrandFields.Status.toString()),e.append("id",this.carBrandFields.id),e.append("_method","PUT"),this.$store.dispatch("CarBrandsModule/update",e)}},created(){const e=this.$store.getters["CarBrandsModule/getCarBrandFromState"](parseInt(this.$route.params.id));this.carBrandFields.BrandName=e.BrandName,this.imgPreview=this.Constants.FILE_URL+"/brands/"+e.BrandLogo,this.carBrandFields.id=e.id,this.carBrandFields.Status=!!e.Status}};var f=t(4260),b=t(151),F=t(5589),_=t(2165),w=t(5269),S=t(4689),q=t(8886),C=t(4027),k=t(1052),L=t(4554),y=t(7518),W=t.n(y);const Z=(0,f.Z)(v,[["render",g],["__scopeId","data-v-5e4ce15f"]]),x=Z;W()(v,"components",{QCard:b.Z,QCardSection:F.Z,QBtn:_.Z,QForm:w.Z,QInput:S.Z,QToggle:q.Z,QImg:C.Z,QFile:k.Z,QIcon:L.Z})}}]);