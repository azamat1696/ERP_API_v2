"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[504],{5504:(e,t,i)=>{i.r(t),i.d(t,{default:()=>dt});var s=i(3673),l=i(2323);const o={class:"q-pa-md"},a=(0,s._)("i",{class:"fas fa-edit"},null,-1),d=(0,s._)("i",{class:"fas fa-trash-alt"},null,-1),r=(0,s._)("div",{class:"text-h4"},"Yeni Ofis Kaydı ",-1),n=(0,s._)("div",{class:"text-h4"},"Ofis Kaydı Düzenleme",-1);function c(e,t,i,c,m,u){const p=(0,s.up)("q-icon"),f=(0,s.up)("q-input"),g=(0,s.up)("q-btn"),h=(0,s.up)("q-td"),_=(0,s.up)("q-chip"),b=(0,s.up)("q-tr"),w=(0,s.up)("q-table"),O=(0,s.up)("q-space"),x=(0,s.up)("q-tooltip"),y=(0,s.up)("q-bar"),F=(0,s.up)("New-Office-Form"),v=(0,s.up)("q-card"),k=(0,s.up)("q-dialog"),q=(0,s.up)("edit-office-form"),S=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(w,{title:"Ofisler Listesi",rows:u.offices,columns:c.baseSetting.OfficeColumns,"row-key":"id",filter:c.baseSetting.filterOfficesTypes},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(f,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:c.baseSetting.filterOfficesTypes,"onUpdate:modelValue":t[0]||(t[0]=e=>c.baseSetting.filterOfficesTypes=e),placeholder:"Ofis Adı Arayınız..."},{append:(0,s.w5)((()=>[(0,s.Wm)(p,{name:"search"})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:t[1]||(t[1]=e=>c.baseSetting.newFormDialog=!0)}),(0,s.Wm)(g,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-pa-sm",disable:""})])),body:(0,s.w5)((e=>[((0,s.wg)(),(0,s.j4)(b,{props:e,key:e.row.index,class:"text-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.row.OfficeName),1)])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.row.OfficePhone.length>=4?e.row.OfficePhone:"Yok"),1)])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.row.OfficeEmail),1)])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)({...this.$store.getters["Cities/elById"](e.row.cities_id)}.CityName),1)])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)({...this.$store.getters["DistrictModule/getRecordById"](e.row.districts_id)}.DistrictName),1)])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{square:"",color:1===+e.row.Status?"positive":"negative","text-color":"white",icon:1===+e.row.Status?"done":"clear",size:"13px"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(1===+e.row.Status?"Açık":"Kapalı"),1)])),_:2},1032,["color","icon"])])),_:2},1024),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(c.baseSetting.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,s.Wm)(h,{class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{flat:"",round:"",color:"blue-grey-9",onClick:t=>u.onEdit(e.row.id)},{default:(0,s.w5)((()=>[a])),_:2},1032,["onClick"]),(0,s.Wm)(g,{disable:"",flat:"",round:"",color:"primary"},{default:(0,s.w5)((()=>[d])),_:1})])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(k,{modelValue:c.baseSetting.newFormDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>c.baseSetting.newFormDialog=e),persistent:"",style:{"z-index":"999!important"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{style:{"min-width":"1000px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,s.w5)((()=>[r,(0,s.Wm)(O),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{dense:"",flat:"",icon:"close"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Kapat")])),_:1})])),_:1})),[[S]])])),_:1}),(0,s.Wm)(F,{onCloseOfficeDialog:t[2]||(t[2]=e=>this.baseSetting.newFormDialog=!1)})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(k,{modelValue:c.baseSetting.editFormDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>c.baseSetting.editFormDialog=e),persistent:"",style:{"z-index":"999!important"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{style:{"min-width":"1000px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{style:{height:"50px"},class:"q-pa-md bg-blue-grey-8 text-white"},{default:(0,s.w5)((()=>[n,(0,s.Wm)(O),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{dense:"",flat:"",icon:"close"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Kapat")])),_:1})])),_:1})),[[S]])])),_:1}),(0,s.Wm)(q,{onCloseOfficeDialog:t[4]||(t[4]=e=>this.baseSetting.editFormDialog=!1),"office-id":c.baseSetting.onEditOfficeId},null,8,["office-id"])])),_:1})])),_:1},8,["modelValue"])])}const m=[{name:"OfficeName",align:"center",label:"Ofis  Adı",field:"OfficeName",sortable:!0},{name:"OfficePhone",align:"center",label:"Telefon",field:"OfficePhone",sortable:!0},{name:"OfficeEmail",align:"center",label:"E-posta",field:"OfficeEmail",sortable:!0},{name:"cities_id",align:"center",label:"Şehir",field:"cities_id",sortable:!0},{name:"districts_id",align:"center",label:"Bölge",field:"districts_id",sortable:!0},{name:"Status",align:"center",label:"Statusu",field:"Status",sortable:!0},{name:"created_at",align:"center",label:"Tarih",field:"created_at"},{name:"id",align:"center",label:"",field:"id"}],u=m;var p=i(8880);const f=e=>((0,s.dD)("data-v-bd50f846"),e=e(),(0,s.Cn)(),e),g={class:"q-pa-none"},h={class:"row"},_={class:"row col-12"},b={class:"col-4 q-pa-xs"},w=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"},"Ofis İsmi",-1))),O={class:"col-4 q-pa-xs"},x=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Şehir",-1))),y={class:"col-4 q-pa-xs"},F=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Bölge",-1))),v={class:"row col-12 q-mt-sm"},k={class:"col-3 q-pa-xs"},q=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Açık Adresi",-1))),S={class:"col-3 q-pa-xs"},W=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Telefon ",-1))),V={class:"col-3 q-pa-xs"},D=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," E-posta ",-1))),P={class:"col-3 q-pa-xs text-center"},H=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Ofis Statüsü ",-1))),C={class:"row"},M=f((()=>(0,s._)("div",{class:"text-subtitle2 q-pa-xs text-grey-8 col-12"},"Ofis Çalışma Saatleri",-1))),N={class:"row q-mt-xs"},U={class:"col-3 q-mt-sm"},Z={key:0,class:"col-9"},z={class:"flex justify-between"},Q={class:"row q-mt-xs q-pa-xs"},A={class:"col-6 q-pa-xs"},E=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Harita Konumu",-1))),$={class:"col-6 q-pa-xs"},I=f((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Konum Arayınız",-1))),R={class:"row"},T={class:"col-12"};function K(e,t,i,o,a,d){const r=(0,s.up)("q-input"),n=(0,s.up)("q-select"),c=(0,s.up)("q-toggle"),m=(0,s.up)("q-checkbox"),u=(0,s.up)("q-range"),f=(0,s.up)("q-step"),K=(0,s.up)("GMapAutocomplete"),B=(0,s.up)("GMapMarker"),J=(0,s.up)("GMapCluster"),j=(0,s.up)("GMapMap"),G=(0,s.up)("q-btn"),L=(0,s.up)("q-stepper-navigation"),Y=(0,s.up)("q-stepper"),X=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",g,[(0,s.Wm)(X,{onSubmit:(0,p.iM)(d.onSubmitNewForm,["prevent","stop"]),onReset:d.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y,{modelValue:o.step,"onUpdate:modelValue":t[11]||(t[11]=e=>o.step=e),ref:"stepper",color:"primary",animated:"",class:"q-pa-none no-box-shadow"},{navigation:(0,s.w5)((()=>[(0,s.Wm)(L,{class:"text-right"},{default:(0,s.w5)((()=>[o.step>1?((0,s.wg)(),(0,s.j4)(G,{key:0,flat:"",color:"primary",onClick:t[10]||(t[10]=t=>e.$refs.stepper.previous()),label:"GERİ",class:"q-ml-sm q-mr-sm"})):(0,s.kq)("",!0),2===o.step?((0,s.wg)(),(0,s.j4)(G,{key:1,type:"submit",icon:"save",color:"blue-grey-8",label:"Kaydet"})):((0,s.wg)(),(0,s.j4)(G,{key:2,type:"submit",color:"blue-grey-8",label:"Devam et"}))])),_:1})])),default:(0,s.w5)((()=>[(0,s.Wm)(f,{name:1,title:"Ofis Bilgilerini Giriniz",icon:"settings",done:o.step>1,style:{"min-height":"200px"},class:"text-dark"},{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("div",_,[(0,s._)("div",b,[w,(0,s.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.OfficeName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.formFields.OfficeName=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"]},null,8,["modelValue","rules"])]),(0,s._)("div",O,[x,(0,s.Wm)(n,{modelValue:o.formFields.cities_id,"onUpdate:modelValue":[t[1]||(t[1]=e=>o.formFields.cities_id=e),t[2]||(t[2]=e=>d.districtsFind(e))],options:d.cities,"option-label":e=>e.CityName,"option-value":e=>e.id,outlined:"",dense:"","hide-bottom-space":""},null,8,["modelValue","options","option-label","option-value"])]),(0,s._)("div",y,[F,(0,s.Wm)(n,{modelValue:o.formFields.districts_id,"onUpdate:modelValue":[t[3]||(t[3]=e=>o.formFields.districts_id=e),t[4]||(t[4]=e=>d.onDistrictSelected(e))],options:o.districts,"option-label":e=>e.DistrictName,"option-value":e=>e.id,outlined:"",dense:"","hide-bottom-space":""},null,8,["modelValue","options","option-label","option-value"])])]),(0,s._)("div",v,[(0,s._)("div",k,[q,(0,s.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.Address,"onUpdate:modelValue":t[5]||(t[5]=e=>o.formFields.Address=e),type:"textarea",placeholder:"Açık adress ","hide-bottom-space":"",autogrow:""},null,8,["modelValue"])]),(0,s._)("div",S,[W,(0,s.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.OfficePhone,"onUpdate:modelValue":t[6]||(t[6]=e=>o.formFields.OfficePhone=e),prefix:"+90",mask:"### ### ## ##",placeholder:"5** *** ** **","hide-bottom-space":"","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Zorunlu alan"]},null,8,["modelValue","rules"])]),(0,s._)("div",V,[D,(0,s.Wm)(r,{outlined:"",dense:"","lazy-rules":"",modelValue:o.formFields.OfficeEmail,"onUpdate:modelValue":t[7]||(t[7]=e=>o.formFields.OfficeEmail=e),placeholder:"example@gmail.com","hide-bottom-space":"",rules:[e=>e&&e.length>0||"Lütfen e-posta giriniz"]},null,8,["modelValue","rules"])]),(0,s._)("div",P,[H,(0,s.Wm)(c,{modelValue:o.formFields.Status,"onUpdate:modelValue":t[8]||(t[8]=e=>o.formFields.Status=e),color:"green"},null,8,["modelValue"])])])]),(0,s._)("div",C,[M,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.formFields.OfficeWorkingPeriods,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4 q-pa-xs",key:t},[(0,s._)("div",N,[(0,s._)("div",U,[(0,s.Wm)(m,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t},null,8,["modelValue","onUpdate:modelValue"]),(0,s._)("span",null,(0,l.zw)(e.label),1)]),e.status?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",z,[(0,s._)("span",null,(0,l.zw)(e.ranges.min)+":00",1),(0,s._)("span",null,(0,l.zw)(e.ranges.max)+":00 ",1)]),(0,s.Wm)(u,{modelValue:e.ranges,"onUpdate:modelValue":t=>e.ranges=t,min:0,max:24,label:"","drag-range":""},null,8,["modelValue","onUpdate:modelValue"])])):(0,s.kq)("",!0)])])))),128))])])),_:1},8,["done"]),(0,s.Wm)(f,{name:2,title:"Ofis konumunuzu belirleyiniz",icon:"create_new_folder",done:o.step>2,style:{"min-height":"200px"}},{default:(0,s.w5)((()=>[(0,s._)("div",Q,[(0,s._)("div",A,[E,(0,s.Wm)(r,{outlined:"",dense:"","model-value":o.center.lat.toFixed(4)+" - "+o.center.lng.toFixed(4),"hide-bottom-space":"",readonly:"",for:"latLng"},null,8,["model-value"])]),(0,s._)("div",$,[I,(0,s.Wm)(K,{placeholder:"Konum Arayınız",onPlace_changed:d.setPlace,class:"autoCompleteInput"},null,8,["onPlace_changed"])])]),(0,s._)("div",R,[(0,s._)("div",T,[(0,s.Wm)(j,{center:o.center,zoom:9,"map-type-id":"terrain",style:{width:"500px",height:"300px!important"},disableDefaultUI:!0},{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.markers,((e,i)=>((0,s.wg)(),(0,s.j4)(B,{key:i,position:e.position,clickable:!1,draggable:!0,onClick:t=>o.center=e.position,onDragend:t[9]||(t[9]=e=>d.getMarkerPosition(e))},null,8,["position","onClick"])))),128))])),_:1})])),_:1},8,["center"])])])])),_:1},8,["done"])])),_:1},8,["modelValue"])])),_:1},8,["onSubmit","onReset"])])}var B=i(1959),J=i(741);const j={name:"NewOfficeForm",setup(){const e=(0,J.oR)(),t=(0,s.Fl)((()=>JSON.parse(JSON.stringify(e.getters["MainModule/getOfficeWorkingPeriods"]))));return{center:(0,B.iH)({lat:35.1937,lng:33.357}),markers:(0,B.iH)([{position:{lat:35.1937,lng:33.357}}]),map:(0,B.iH)(null),districts:(0,B.iH)([]),formFields:(0,B.iH)({OfficeName:(0,B.iH)(""),cities_id:(0,B.iH)(),Status:(0,B.iH)(!0),districts_id:(0,B.iH)(),OfficeWorkingPeriods:(0,B.iH)(t.value),Positions:(0,B.iH)(),Contacts:(0,B.iH)([]),Address:(0,B.iH)(""),OfficePhone:(0,B.iH)(""),OfficeEmail:(0,B.iH)(""),temporarySelectedDistrict:(0,B.iH)({})}),step:(0,B.iH)(1),emailValid:(0,B.iH)(!0)}},mounted(){this.$store.dispatch("Cities/get"),this.$store.dispatch("DistrictModule/get")},computed:{cities(){return this.$store.getters["Cities/cities"]}},methods:{getMarkerPosition(e){this.setMarker(e.latLng.lat(),e.latLng.lng())},districtsFind(e){this.districts.splice(0,this.districts.length),this.formFields.districts_id="",this.districts=this.$store.getters["DistrictModule/getRecordsById"](e.id)},setPlace(e){this.setMarker(e.geometry.location.lat(),e.geometry.location.lng())},setMarker(e,t){this.center={lat:e,lng:t},this.markers=[{position:{lat:e,lng:t}}]},onDistrictSelected(e){const t=JSON.parse(e.Positions);this.setMarker(t.lat,t.lng),this.temporarySelectedDistrict=e},onSubmitNewForm(){if(2===this.step){let e=new FormData;e.append("OfficeAddress",this.formFields.Address),e.append("OfficeContacts",JSON.stringify(this.formFields.Contacts)),e.append("OfficePhone","+90 "+this.formFields.OfficePhone),e.append("OfficeEmail",this.formFields.OfficeEmail),e.append("OfficeName",this.formFields.OfficeName),e.append("cities_id",this.formFields.cities_id.id),e.append("districts_id",this.formFields.districts_id.id),e.append("Positions",JSON.stringify(this.center)),e.append("Status",this.formFields.Status),e.append("OfficeWorkingPeriods",JSON.stringify(this.formFields.OfficeWorkingPeriods)),this.$store.dispatch("OfficeModule/create",e).then((e=>{!0===e&&(this.onReset(),this.$emit("closeOfficeDialog"))}))}else this.step+=1,setTimeout((()=>{}),1e3)},onReset(){this.formFields.OfficeWorkingPeriods=[],this.formFields.districts_id="",this.formFields.cities_id="",this.formFields.OfficePhone="",this.formFields.OfficeName="",this.formFields.OfficeEmail="",this.formFields.Address="",this.formFields.Contacts="",this.formFields.Positions=""}}};var G=i(4260),L=i(5269),Y=i(3518),X=i(6552),ee=i(4689),te=i(3314),ie=i(8886),se=i(5735),le=i(8151),oe=i(118),ae=i(2165),de=i(7518),re=i.n(de);const ne=(0,G.Z)(j,[["render",K],["__scopeId","data-v-bd50f846"]]),ce=ne;re()(j,"components",{QForm:L.Z,QStepper:Y.Z,QStep:X.Z,QInput:ee.Z,QSelect:te.Z,QToggle:ie.Z,QCheckbox:se.Z,QRange:le.Z,QStepperNavigation:oe.Z,QBtn:ae.Z});const me=e=>((0,s.dD)("data-v-35e164da"),e=e(),(0,s.Cn)(),e),ue={class:"q-pa-none"},pe={class:"row"},fe={class:"row col-12"},ge={class:"col-4 q-pa-xs"},he=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"},"Ofis İsmi",-1))),_e={class:"col-4 q-pa-xs"},be=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Şehir",-1))),we={class:"col-4 q-pa-xs"},Oe=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Bölge",-1))),xe={class:"row col-12 q-mt-sm"},ye={class:"col-3 q-pa-xs"},Fe=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Açık Adresi",-1))),ve={class:"col-3 q-pa-xs"},ke=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Telefon ",-1))),qe={class:"col-3 q-pa-xs"},Se=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," E-posta ",-1))),We={class:"col-3 q-pa-xs text-center"},Ve=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Ofis Statüsü ",-1))),De={class:"row"},Pe=me((()=>(0,s._)("div",{class:"text-subtitle2 q-pa-xs text-grey-8 col-12"},"Ofis Çalışma Saatleri",-1))),He={class:"row q-mt-xs"},Ce={class:"col-3 q-mt-sm"},Me={key:0,class:"col-9"},Ne={class:"flex justify-between"},Ue={class:"row q-mt-xs q-pa-xs"},Ze={class:"col-6 q-pa-xs"},ze=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Harita Konumu",-1))),Qe={class:"col-6 q-pa-xs"},Ae=me((()=>(0,s._)("div",{class:"text-subtitle2 text-grey-8"}," Konum Arayınız",-1))),Ee={class:"row"},$e={class:"col-12"};function Ie(e,t,i,o,a,d){const r=(0,s.up)("q-input"),n=(0,s.up)("q-select"),c=(0,s.up)("q-toggle"),m=(0,s.up)("q-checkbox"),u=(0,s.up)("q-range"),f=(0,s.up)("q-step"),g=(0,s.up)("GMapAutocomplete"),h=(0,s.up)("GMapMarker"),_=(0,s.up)("GMapCluster"),b=(0,s.up)("GMapMap"),w=(0,s.up)("q-btn"),O=(0,s.up)("q-stepper-navigation"),x=(0,s.up)("q-stepper"),y=(0,s.up)("q-form");return(0,s.wg)(),(0,s.iD)("div",ue,[(0,s.Wm)(y,{onSubmit:(0,p.iM)(d.onSubmitUpdatedOffice,["prevent","stop"]),onReset:d.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{modelValue:o.step,"onUpdate:modelValue":t[12]||(t[12]=e=>o.step=e),ref:"stepper",color:"primary",animated:"",class:"q-pa-none no-box-shadow"},{navigation:(0,s.w5)((()=>[(0,s.Wm)(O,{class:"text-right"},{default:(0,s.w5)((()=>[o.step>1?((0,s.wg)(),(0,s.j4)(w,{key:0,flat:"",color:"primary",onClick:t[10]||(t[10]=t=>e.$refs.stepper.previous()),label:"GERİ",class:"q-ml-sm q-mr-sm"})):(0,s.kq)("",!0),2===o.step?((0,s.wg)(),(0,s.j4)(w,{key:1,onClick:t[11]||(t[11]=t=>e.$refs.stepper.next()),type:"submit",icon:"save",color:"blue-grey-8",label:"Kaydet"})):((0,s.wg)(),(0,s.j4)(w,{key:2,type:"submit",color:"blue-grey-8",label:"Devam et"}))])),_:1})])),default:(0,s.w5)((()=>[(0,s.Wm)(f,{name:1,title:"Ofis Bilgilerini Giriniz",icon:"settings",done:o.step>1,style:{"min-height":"200px"},class:"text-dark"},{default:(0,s.w5)((()=>[(0,s._)("div",pe,[(0,s._)("div",fe,[(0,s._)("div",ge,[he,(0,s.Wm)(r,{"hide-bottom-space":"",outlined:"",dense:"",modelValue:o.formFields.OfficeName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.formFields.OfficeName=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"]},null,8,["modelValue","rules"])]),(0,s._)("div",_e,[be,(0,s.Wm)(n,{modelValue:o.formFields.cities_id,"onUpdate:modelValue":[t[1]||(t[1]=e=>o.formFields.cities_id=e),t[2]||(t[2]=e=>d.districtsFind(e))],options:o.citiesOptions,"option-label":e=>e.CityName,"option-value":e=>e.id,outlined:"",dense:"","hide-bottom-space":""},null,8,["modelValue","options","option-label","option-value"])]),(0,s._)("div",we,[Oe,(0,s.Wm)(n,{modelValue:o.formFields.districts_id,"onUpdate:modelValue":[t[3]||(t[3]=e=>o.formFields.districts_id=e),t[4]||(t[4]=e=>d.onDistrictSelected(e))],options:o.districts,"option-label":e=>e.DistrictName,"option-value":e=>e.id,outlined:"",dense:"","hide-bottom-space":""},null,8,["modelValue","options","option-label","option-value"])])]),(0,s._)("div",xe,[(0,s._)("div",ye,[Fe,(0,s.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.Address,"onUpdate:modelValue":t[5]||(t[5]=e=>o.formFields.Address=e),type:"textarea",placeholder:"Açık adress ","hide-bottom-space":"",autogrow:""},null,8,["modelValue"])]),(0,s._)("div",ve,[ke,(0,s.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.OfficePhone,"onUpdate:modelValue":t[6]||(t[6]=e=>o.formFields.OfficePhone=e),prefix:"+90",mask:"### ### ## ##",placeholder:"5** *** ** **","hide-bottom-space":"","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Zorunlu alan"]},null,8,["modelValue","rules"])]),(0,s._)("div",qe,[Se,(0,s.Wm)(r,{outlined:"",dense:"",modelValue:o.formFields.OfficeEmail,"onUpdate:modelValue":t[7]||(t[7]=e=>o.formFields.OfficeEmail=e),placeholder:"example@gmail.com","hide-bottom-space":"","lazy-rules":"",rules:[e=>e&&e.length>0||"Lütfen e-posta giriniz"]},null,8,["modelValue","rules"])]),(0,s._)("div",We,[Ve,(0,s.Wm)(c,{modelValue:o.formFields.Status,"onUpdate:modelValue":t[8]||(t[8]=e=>o.formFields.Status=e),color:"green"},null,8,["modelValue"])])])]),(0,s._)("div",De,[Pe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.formFields.OfficeWorkingPeriods,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4 q-pa-xs",key:t},[(0,s._)("div",He,[(0,s._)("div",Ce,[(0,s.Wm)(m,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t},null,8,["modelValue","onUpdate:modelValue"]),(0,s._)("span",null,(0,l.zw)(e.label),1)]),e.status?((0,s.wg)(),(0,s.iD)("div",Me,[(0,s._)("div",Ne,[(0,s._)("span",null,(0,l.zw)(e.ranges.min)+":00",1),(0,s._)("span",null,(0,l.zw)(e.ranges.max)+":00 ",1)]),(0,s.Wm)(u,{modelValue:e.ranges,"onUpdate:modelValue":t=>e.ranges=t,min:0,max:24,label:"","drag-range":""},null,8,["modelValue","onUpdate:modelValue"])])):(0,s.kq)("",!0)])])))),128))])])),_:1},8,["done"]),(0,s.Wm)(f,{name:2,title:"Ofis konumunuzu belirleyiniz",icon:"create_new_folder",done:o.step>2,style:{"min-height":"200px"}},{default:(0,s.w5)((()=>[(0,s._)("div",Ue,[(0,s._)("div",Ze,[ze,(0,s.Wm)(r,{outlined:"",dense:"","model-value":o.center.lat.toFixed(4)+" - "+o.center.lng.toFixed(4),"hide-bottom-space":"",readonly:"",for:"latLng"},null,8,["model-value"])]),(0,s._)("div",Qe,[Ae,(0,s.Wm)(g,{placeholder:"Konum Arayınız",onPlace_changed:d.setPlace,class:"autoCompleteInput"},null,8,["onPlace_changed"])])]),(0,s._)("div",Ee,[(0,s._)("div",$e,[(0,s.Wm)(b,{center:o.center,zoom:9,"map-type-id":"terrain",style:{width:"500px",height:"300px!important"},disableDefaultUI:!0},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.markers,((e,i)=>((0,s.wg)(),(0,s.j4)(h,{key:i,position:e.position,clickable:!1,draggable:!0,onClick:t=>o.center=e.position,onDragend:t[9]||(t[9]=e=>d.getMarkerPosition(e))},null,8,["position","onClick"])))),128))])),_:1})])),_:1},8,["center"])])])])),_:1},8,["done"])])),_:1},8,["modelValue"])])),_:1},8,["onSubmit","onReset"])])}const Re={name:"EditOfficeForm",props:["officeId",""],setup(){const e=(0,J.oR)(),t=(0,s.Fl)((()=>e.getters["Cities/cities"])),i=(0,s.Fl)((()=>JSON.parse(JSON.stringify(e.getters["DistrictModule/getRecords"])))),l=(0,B.iH)(t.value),o=(0,B.iH)(i.value);return{markerSelected:{},citiesOptions:l,districtOptions:o,center:(0,B.iH)({lat:35.1937,lng:33.357}),markers:(0,B.iH)([{position:{lat:35.1937,lng:33.357}}]),map:(0,B.iH)(null),districts:(0,B.iH)([]),formFields:(0,B.iH)({id:(0,B.iH)(),OfficeName:(0,B.iH)(""),cities_id:(0,B.iH)(),districts_id:(0,B.iH)(),OfficeWorkingPeriods:(0,B.iH)(""),Positions:(0,B.iH)(),Contacts:(0,B.iH)([]),Address:(0,B.iH)(""),OfficePhone:(0,B.iH)(""),Status:(0,B.iH)(!0),OfficeEmail:(0,B.iH)("")}),temporarySelectedDistrict:(0,B.iH)({}),step:(0,B.iH)(1),emailValid:(0,B.iH)(!0)}},mounted(){this.$store.dispatch("Cities/get"),this.$store.dispatch("DistrictModule/get"),this.$store.dispatch("OfficeModule/get"),this.buildFormField(this.officeId)},computed:{cities(){return this.$store.getters["Cities/cities"]}},methods:{getMarkerPosition(e){this.setMarker(e.latLng.lat(),e.latLng.lng())},buildFormField(e){let t={...this.$store.getters["OfficeModule/officeById"](e)};this.formFields.id=t.id,this.formFields.OfficeName=t.OfficeName,this.formFields.OfficeEmail=t.OfficeEmail,this.formFields.OfficePhone=t.OfficePhone.substring(4,t.OfficePhone.length),this.formFields.Address=t.OfficeAddress,this.formFields.Status=1===+t.Status,this.formFields.cities_id={...this.$store.getters["Cities/elById"](t.cities_id)},this.formFields.districts_id={...this.$store.getters["DistrictModule/getRecordById"](t.districts_id)},this.formFields.OfficeWorkingPeriods=JSON.parse(t.OfficeWorkingPeriods);const i=JSON.parse(t.Positions);this.setMarker(i.lat,i.lng)},districtsFind(e){this.districts.splice(0,this.districts.length),this.formFields.districts_id="",this.districts=this.$store.getters["DistrictModule/getRecordsById"](e.id)},setPlace(e){this.setMarker(e.geometry.location.lat(),e.geometry.location.lng())},setMarker(e,t){this.center={lat:e,lng:t},this.markers=[{position:{lat:e,lng:t}}]},onDistrictSelected(e){const t=JSON.parse(e.Positions);this.setMarker(t.lat,t.lng),this.temporarySelectedDistrict=e},onSubmitUpdatedOffice(){if(2===this.step){let e=new FormData;e.append("OfficeAddress",this.formFields.Address),e.append("id",this.formFields.id),e.append("OfficeContacts",JSON.stringify(this.formFields.Contacts)),e.append("OfficePhone","+90 "+this.formFields.OfficePhone),e.append("OfficeEmail",this.formFields.OfficeEmail),e.append("OfficeName",this.formFields.OfficeName),e.append("cities_id",this.formFields.cities_id.id),e.append("districts_id",this.formFields.districts_id.id),e.append("Positions",JSON.stringify(this.center)),e.append("Status",this.formFields.Status),e.append("OfficeWorkingPeriods",JSON.stringify(this.formFields.OfficeWorkingPeriods)),e.append("_method","PUT"),this.$store.dispatch("OfficeModule/update",e).then((e=>{this.onReset(),this.$emit("closeOfficeDialog")}))}else this.step+=1,setTimeout((()=>{this.$store.getters["DistrictModule/getRecordById"](this.formFields.districts_id.id);this.setMarker(this.center.lat,this.center.lng)}),1e3)},onReset(){this.formFields.OfficeWorkingPeriods="",this.formFields.districts_id="",this.formFields.cities_id="",this.formFields.OfficePhone="",this.formFields.OfficeName="",this.formFields.OfficeEmail="",this.formFields.Address="",this.formFields.Contacts="",this.formFields.Positions=""}}},Te=(0,G.Z)(Re,[["render",Ie],["__scopeId","data-v-35e164da"]]),Ke=Te;re()(Re,"components",{QForm:L.Z,QStepper:Y.Z,QStep:X.Z,QInput:ee.Z,QSelect:te.Z,QToggle:ie.Z,QCheckbox:se.Z,QRange:le.Z,QStepperNavigation:oe.Z,QBtn:ae.Z});var Be=i(4147);const Je={name:"Index",setup(){const e=[];return{baseSetting:(0,B.iH)({dateFormat:Be.v,OfficeColumns:u,CustomersRows:e,newFormDialog:(0,B.iH)(!1),editFormDialog:(0,B.iH)(!1),onEditOfficeId:(0,B.iH)(null),filterOfficesTypes:(0,B.iH)("")})}},components:{NewOfficeForm:ce,EditOfficeForm:Ke},mounted(){this.$store.dispatch("OfficeModule/get"),this.$store.dispatch("Cities/get"),this.$store.dispatch("DistrictModule/get")},computed:{offices(){return this.$store.getters["OfficeModule/getRecords"]}},methods:{onEdit(e){this.baseSetting.onEditOfficeId=e,this.baseSetting.editFormDialog=!0}}};var je=i(4993),Ge=i(4554),Le=i(8186),Ye=i(3884),Xe=i(7030),et=i(4390),tt=i(151),it=i(846),st=i(2025),lt=i(8870),ot=i(677);const at=(0,G.Z)(Je,[["render",c]]),dt=at;re()(Je,"components",{QTable:je.Z,QInput:ee.Z,QIcon:Ge.Z,QBtn:ae.Z,QTr:Le.Z,QTd:Ye.Z,QChip:Xe.Z,QDialog:et.Z,QCard:tt.Z,QBar:it.Z,QSpace:st.Z,QTooltip:lt.Z}),re()(Je,"directives",{ClosePopup:ot.Z})}}]);