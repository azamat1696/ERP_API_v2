"use strict";(globalThis["webpackChunkrentacarpanel"]=globalThis["webpackChunkrentacarpanel"]||[]).push([[248],{9248:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Y});var a=t(3673),s=t(2323),o=t(8880);const r={class:"q-pa-md"},i=(0,a._)("i",{class:"fas fa-edit"},null,-1),d=(0,a._)("i",{class:"fas fa-trash-alt"},null,-1),n={key:0,class:"text-h4"},u={key:1,class:"text-h4"},m={class:"row"},c={class:"col-12 q-pa-xs"},p=(0,a._)("div",{class:"text-subtitle2 q-mb-xs text-grey-8"},"Hizmet Adı / Başlık ",-1),h={class:"col-12 q-mt-sm q-pa-xs"},x=(0,a._)("div",{class:"text-subtitle2 q-mb-xs text-grey-8"},"Hizmet Açıklaması ",-1),F={class:"col-12 q-mt-sm"},g=(0,a._)("div",{class:"text-subtitle2 q-mb-xs text-grey-8"}," Ücret Hesaplama Tipi ",-1),b={class:"col-12 q-mt-sm"},w=(0,a._)("div",{class:"text-subtitle2 q-mb-xs text-grey-8"}," Fiyat Giriniz ",-1),y={class:"col-12 q-mt-sm"},f={class:"row"},S={key:0,class:"text-right col-12"},C={key:1,class:"text-right col-12"};function _(e,l,t,_,q,v){const W=(0,a.up)("q-icon"),k=(0,a.up)("q-input"),D=(0,a.up)("q-btn"),T=(0,a.up)("q-td"),V=(0,a.up)("q-chip"),z=(0,a.up)("q-tr"),Z=(0,a.up)("q-table"),U=(0,a.up)("q-space"),H=(0,a.up)("q-tooltip"),Q=(0,a.up)("q-bar"),E=(0,a.up)("q-radio"),R=(0,a.up)("q-toggle"),A=(0,a.up)("q-form"),M=(0,a.up)("q-card-section"),O=(0,a.up)("q-card"),N=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(Z,{title:"Extra Hizmetler",rows:v.extraServices,columns:q.baseSetting.extraServicesColumns,"row-key":"id",filter:q.baseSetting.filterCarTypes},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(k,{outlined:"",dense:"",debounce:"300",color:"primary",modelValue:q.baseSetting.filterCarTypes,"onUpdate:modelValue":l[0]||(l[0]=e=>q.baseSetting.filterCarTypes=e),placeholder:"Extra Hizmet Arayınız..."},{append:(0,a.w5)((()=>[(0,a.Wm)(W,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(D,{color:"primary",label:"Yeni Kayıt ",icon:"add",class:"q-mr-xs q-ml-xs q-pa-sm q-pr-md",onClick:v.showDialogModal},null,8,["onClick"]),(0,a.Wm)(D,{color:"blue-grey-8",icon:"archive",label:"Excel Oluştur",class:"q-pa-sm",disable:""})])),body:(0,a.w5)((e=>[((0,a.wg)(),(0,a.j4)(z,{props:e,key:e.row.index,class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.row.Name),1)])),_:2},1024),(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)("null"!==e.row.Description?e.row.Description:""),1)])),_:2},1024),(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,{square:"",color:1===+e.row.Status?"positive":"negative","text-color":"white",icon:1===+e.row.Status?"done":"clear",size:"13px"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(1===+e.row.Status?"Açık":"Kapalı"),1)])),_:2},1032,["color","icon"])])),_:2},1024),(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(q.baseSetting.dateFormat(e.row.created_at)),1)])),_:2},1024),(0,a.Wm)(T,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{flat:"",round:"",color:"blue-grey-9",onClick:l=>v.onEdit(e.row.id)},{default:(0,a.w5)((()=>[i])),_:2},1032,["onClick"]),(0,a.Wm)(D,{flat:"",round:"",color:"primary",disable:""},{default:(0,a.w5)((()=>[d])),_:1})])),_:2},1024)])),_:2},1032,["props"]))])),_:1},8,["rows","columns","filter"]),(0,a.Wm)(N,{modelValue:q.baseSetting.showFormDialog,"onUpdate:modelValue":l[8]||(l[8]=e=>q.baseSetting.showFormDialog=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(O,{style:{"min-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{class:"q-pa-md bg-blue-grey-8 text-white",style:{height:"50px"}},{default:(0,a.w5)((()=>[q.extraFormFields.id?((0,a.wg)(),(0,a.iD)("div",u,"Extra Servis Güncelleme")):((0,a.wg)(),(0,a.iD)("div",n,"Yeni Bir Hizmet Oluştur")),(0,a.Wm)(U),(0,a.Wm)(D,{dense:"",flat:"",icon:"close",onClick:v.onCloseDialog},{default:(0,a.w5)((()=>[(0,a.Wm)(H,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Kapat")])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,{onSubmit:v.onSubmit,onReset:v.onReset,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",c,[p,(0,a.Wm)(k,{outlined:"",dense:"",modelValue:q.extraFormFields.Name,"onUpdate:modelValue":l[1]||(l[1]=e=>q.extraFormFields.Name=e),"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],placeholder:"Hizmet adı yazınız...","hide-bottom-space":""},null,8,["modelValue","rules"])]),(0,a._)("div",h,[x,(0,a.Wm)(k,{outlined:"",dense:"",modelValue:q.extraFormFields.Description,"onUpdate:modelValue":l[2]||(l[2]=e=>q.extraFormFields.Description=e),placeholder:"Açıklama yazınız...","hide-bottom-space":""},null,8,["modelValue"])]),(0,a._)("div",F,[g,(0,a.Wm)(E,{"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],modelValue:q.extraFormFields.CalculateType,"onUpdate:modelValue":l[3]||(l[3]=e=>q.extraFormFields.CalculateType=e),val:"Multiple",label:"Çoklu Hesaplama",disable:""},null,8,["rules","modelValue"]),(0,a.Wm)(E,{"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],modelValue:q.extraFormFields.CalculateType,"onUpdate:modelValue":l[4]||(l[4]=e=>q.extraFormFields.CalculateType=e),val:"OneOff",label:"Tekil Hesaplama"},null,8,["rules","modelValue"]),(0,a.Wm)(E,{"lazy-rules":!0,rules:[e=>e&&e.length>0||"Zorunlu alan"],modelValue:q.extraFormFields.CalculateType,"onUpdate:modelValue":l[5]||(l[5]=e=>q.extraFormFields.CalculateType=e),val:"DependsOnHalfPrice",label:"Aracın Yarı Fiyatına Tabi Tut"},null,8,["rules","modelValue"])]),(0,a.wy)((0,a._)("div",b,[w,(0,a.Wm)(k,{type:"number",outlined:"",dense:"",modelValue:q.extraFormFields.Price,"onUpdate:modelValue":l[6]||(l[6]=e=>q.extraFormFields.Price=e),placeholder:"100.00","hide-bottom-space":""},null,8,["modelValue"])],512),[[o.F8,q.extraFormFields.CalculateType&&"DependsOnHalfPrice"!==q.extraFormFields.CalculateType]]),(0,a._)("div",y,[(0,a.Wm)(R,{modelValue:q.extraFormFields.Status,"onUpdate:modelValue":l[7]||(l[7]=e=>q.extraFormFields.Status=e),label:"Statusu",color:"green"},null,8,["modelValue"])])]),(0,a._)("div",f,[q.extraFormFields.id?((0,a.wg)(),(0,a.iD)("div",C,[(0,a.Wm)(D,{label:"Güncelle",type:"button",color:"blue-grey-8","icon-right":"save",onClick:v.onUpdate},null,8,["onClick"])])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(D,{label:"Sıfırla",type:"reset",color:"primary",flat:"",class:"q-ml-sm"}),(0,a.Wm)(D,{label:"Kaydet",type:"submit",color:"blue-grey-8","icon-right":"save"})]))])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}t(71);var q=t(1959);const v=[{name:"Name",align:"center",label:"Hizmet Adı",field:"Name",sortable:!0},{name:"Description",align:"center",label:"Hizmet Açıklaması",field:"Description",sortable:!1},{name:"Status",align:"center",label:"Statusu",field:"Status",sortable:!1},{name:"created_at",align:"center",label:"Tarih",field:"created_at"},{name:"id",align:"center",label:"",field:"id"}],W=v;var k=t(4147);t(8508);const D={name:"CarExtras",data(){return{baseSetting:{showFormDialog:(0,q.iH)(!1),extraServicesColumns:W,dateFormat:k.v,filterCarTypes:(0,q.iH)("")},extraFormFields:(0,q.iH)({Name:"",Description:"",Status:!0,CalculateType:"",Price:null,id:""})}},methods:{onCloseDialog(){this.baseSetting.showFormDialog=!1,this.onReset()},showDialogModal(){this.baseSetting.showFormDialog=!0,this.onReset()},onSubmit(){let e=new FormData;for(const[l,t]of Object.entries(this.extraFormFields))"id"!==l&&e.append(l,t);this.$store.dispatch("CarExtrasModule/create",e).then((()=>{this.onReset(),this.baseSetting.showFormDialog=!1}))},onReset(){this.extraFormFields.id="",this.extraFormFields.Name="",this.extraFormFields.Description="",this.extraFormFields.Status=!0,this.extraFormFields.CalculateType="",this.extraFormFields.Price=""},onEdit(e){let l={...this.$store.getters["CarExtrasModule/extraById"](e)};l.Status=1===+l.Status,this.extraFormFields=l,this.baseSetting.showFormDialog=!0},onUpdate(){let e=new FormData;for(const[l,t]of Object.entries(this.extraFormFields))"created_at"!==l&&"updated_at"!==l&&e.append(l,t);e.append("_method","PUT"),this.$store.dispatch("CarExtrasModule/update",e).then((()=>{this.baseSetting.showFormDialog=!1,this.onReset()}))}},mounted(){this.$store.dispatch("CarExtrasModule/get")},computed:{extraServices(){return this.$store.getters["CarExtrasModule/extras"]}}};var T=t(4260),V=t(4993),z=t(4689),Z=t(4554),U=t(2165),H=t(8186),Q=t(3884),E=t(7030),R=t(4390),A=t(151),M=t(846),O=t(2025),N=t(8870),P=t(5589),B=t(5269),$=t(7991),K=t(8886),j=t(7518),G=t.n(j);const I=(0,T.Z)(D,[["render",_]]),Y=I;G()(D,"components",{QTable:V.Z,QInput:z.Z,QIcon:Z.Z,QBtn:U.Z,QTr:H.Z,QTd:Q.Z,QChip:E.Z,QDialog:R.Z,QCard:A.Z,QBar:M.Z,QSpace:O.Z,QTooltip:N.Z,QCardSection:P.Z,QForm:B.Z,QRadio:$.Z,QToggle:K.Z})}}]);